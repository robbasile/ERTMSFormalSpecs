<NameSpace
 X="230"
 Y="80"
 Width="100"
 Height="50"
 Name="AxleLoad"
 Guid="2bb7594e-aee3-45d5-bcb6-092282828fe2"
>
<NameSpaces>
</NameSpaces>
<Structures>
<Structure
 Default=""
 X="0"
 Y="130"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="AxleLoadProfileStruct"
 Guid="7669fef7-c011-4007-bc1d-fc27e4e7bdfb"
>
<ReqRef
 Id="faca2edb-7220-4d55-bebe-f367d8f8d94a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ffcaaef7-616f-46e8-95e8-7322ce66c264"
>
</ReqRef><ReqRef
 Id="38267eb5-348a-4d09-b4c6-4907aea348f2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3edd52e9-7b3f-46dd-8755-876faa0f3b40"
>
</ReqRef><ReqRef
 Id="0bc77f7e-62ac-42cc-bf02-051522a4d11a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8bd1dfe2-0633-4324-8687-b1997ed350b4"
>
</ReqRef><Comment>Represents the speed restrictions due to axle load.</Comment>
<StructureElement
 TypeName="Messages.Q_TRACKINIT"
 Default="Messages.Q_TRACKINIT.No_initial_states_to_be_resumed__profile_to_follow"
 Mode="Internal"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="InitialState"
 Guid="946bc69b-ca9a-45fe-9b46-8100c4b08b92"
>
<ReqRef
 Id="13a5ea24-0fd2-4281-99df-f3585e1e8e67"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="cf0a11c1-ffaa-4fa9-bd6b-b40d30f1984e"
>
</ReqRef><Comment>Indicates if the initial state has to be resumed. In that case there will be no speed restrictions due to axle load profile.</Comment>
</StructureElement><StructureElement
 TypeName="BaseTypes.Distance"
 Default=""
 Mode="Internal"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="EmptyProfileDistance"
 Guid="361e1dc2-e116-4385-9fb7-fdaadca50147"
>
<ReqRef
 Id="35ef498a-1c12-4203-b283-26436d281f11"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="83a3d80c-a040-4d79-b312-aa274d51dc30"
>
</ReqRef><Comment>Indicates when the initial state has to be resumed.</Comment>
</StructureElement><StructureElement
 TypeName="AxleLoads"
 Default=""
 Mode="Internal"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="ALs"
 Guid="4e53cbe8-fb84-4df8-a50e-4d966ab7af02"
>
<Comment>The collection of axle load speed restrictions.</Comment>
</StructureElement></Structure><Structure
 Default=""
 X="221"
 Y="1"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="AxleLoadValueStruct"
 Guid="fa42ca0f-788f-48d1-b567-ecbeaaf5b60b"
>
<ReqRef
 Id="13798cd3-156c-4ae1-a925-b41dfda2af88"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="42d3394a-524c-46a9-a274-29c4f4979bf6"
>
</ReqRef><Comment>Represents an axle load value: a couple Axle Load Category x Speed.</Comment>
<StructureElement
 TypeName="Messages.M_AXLELOADCAT"
 Default="Messages.M_AXLELOADCAT.A"
 Mode="Internal"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Category"
 Guid="2c34db10-b188-476a-8141-089da911e170"
>
<ReqRef
 Id="0fb117ff-1235-410b-998a-c63b1d3a86ed"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="46c9c30b-3afe-47b5-9fce-fd6a8111f7bf"
>
</ReqRef></StructureElement><StructureElement
 TypeName="BaseTypes.Speed"
 Default=""
 Mode="Internal"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Speed"
 Guid="996a5dd9-98fa-4685-be6a-119eb6358770"
>
<ReqRef
 Id="4947d3fc-1665-47ff-a945-9900318dce54"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="01d1e964-8eba-4426-a3e5-c2526a36e145"
>
</ReqRef></StructureElement></Structure><Structure
 Default=""
 X="440"
 Y="130"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="AxleLoadStruct"
 Guid="9dd469a1-b327-4ab3-8799-dec44bd7903e"
>
<ReqRef
 Id="588756eb-1786-4776-86ae-3aaa296881a9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e33b1ba2-941a-47cc-8fdd-2dc26f2b8aac"
>
</ReqRef><Comment>Represents an axle load information.</Comment>
<StructureElement
 TypeName="BaseTypes.Length"
 Default=""
 Mode="Internal"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Length"
 Guid="59e937fb-7cde-4cd6-8197-5ce4c9c7c65c"
>
<ReqRef
 Id="1a02feaa-c003-44ae-bbc0-6685c3aab8d7"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="314e9fc6-f20a-4710-b65e-13f255585a18"
>
</ReqRef><Comment>The length of the axle load speed profile.</Comment>
</StructureElement><StructureElement
 TypeName="BaseTypes.Distance"
 Default=""
 Mode="Internal"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Location"
 Guid="22a27ae1-10c7-4597-9197-2b79fddf7208"
>
<ReqRef
 Id="0b4c179e-a381-412e-bdad-451bda6066e4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="21a4d2dd-1237-4561-9f8a-2f5125e83df9"
>
</ReqRef><Comment>The distance to the next axle load speed profile.</Comment>
</StructureElement><StructureElement
 TypeName="AxleLoadValues"
 Default=""
 Mode="Internal"
 Implemented="TRUE"
 Name="Values"
 Guid="167ce347-d968-4936-aa7f-8d2135237f8d"
>
<ReqRef
 Id="4947d3fc-1665-47ff-a945-9900318dce54"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="03119fc5-df90-4f43-b4f7-fd031b3972a8"
>
</ReqRef><ReqRef
 Id="0fb117ff-1235-410b-998a-c63b1d3a86ed"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0ed68a08-c2aa-4450-9cd8-4c61224841fb"
>
</ReqRef><ReqRef
 Id="13798cd3-156c-4ae1-a925-b41dfda2af88"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="68cebca4-a52b-4f2e-9640-b06fe773bafe"
>
</ReqRef><Comment>Speed restrictions associated to the different axle load categories.</Comment>
</StructureElement><Interfaces>
<StructureRef
 Name="BaseTypes.LocationLengthInterface"
 Guid="814fe1d3-8c01-4235-addf-f08e9c67d8cf"
>
</StructureRef></Interfaces>
</Structure></Structures>
<Collections>
<Collection
 TypeName="AxleLoadValueStruct"
 MaxSize="20"
 Default="[]"
 X="440"
 Y="0"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="AxleLoadValues"
 Guid="37ea60a7-1060-427c-8a92-a30a5d49e75f"
>
<ReqRef
 Id="13798cd3-156c-4ae1-a925-b41dfda2af88"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="7cd477bd-1c3b-4dbb-a63e-5019beda071a"
>
</ReqRef><Comment>Represents a set of axle load values.</Comment>
</Collection><Collection
 TypeName="AxleLoadStruct"
 MaxSize="30"
 Default="[]"
 X="220"
 Y="130"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="AxleLoads"
 Guid="724ddbcf-edeb-4745-9b64-66044ac0f56e"
>
<ReqRef
 Id="e0ecf6c6-baf4-4601-a121-23e3946830d7"
 SpecId="c238ead1-8ba7-4613-ae49-4288833ea80d"
 Guid="555afcf0-7b93-4ef5-85ee-c3c7c1436374"
>
</ReqRef><Comment>Represents a set of axle load informations.</Comment>
</Collection></Collections>
<Functions>
<Function
 Type="BaseTypes.Speed"
 Default=""
 X="0"
 Y="240"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SpeedRestrictions"
 Guid="ac5c9711-135a-4889-a8a9-19764bedb0f0"
>
<ReqRef
 Id="38267eb5-348a-4d09-b4c6-4907aea348f2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="65014558-9baf-43a7-bc3a-b5212f8b0b0d"
>
</ReqRef><ReqRef
 Id="bfa09769-fb03-456f-b92b-14ab4cf7977b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="55040a00-9112-4c96-95a5-84aa2f1a9c52"
>
</ReqRef><ReqRef
 Id="b2a3ff3a-3f41-4dde-9bf8-ee649ce14d86"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="dc4e688e-8a52-4270-9c57-65adf4f3c857"
>
</ReqRef><ReqRef
 Id="fd20f88d-92bb-420d-b66e-a56c331b36a0"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="38255505-9aef-4133-86e1-fbc5bd12f9c1"
>
</ReqRef><ReqRef
 Id="8f475e6f-ef11-49a2-9e54-9d3d12e55aa8"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="37859044-c5e3-4be8-902f-c56f0d66121b"
>
</ReqRef><ReqRef
 Id="5b9cb291-20b3-4b57-b985-9777f8e49ebc"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="941b7bbf-dd29-4e65-8133-cab51b29089f"
>
</ReqRef><ReqRef
 Id="78901f0f-a70f-415d-8d57-e5156f7206d0"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="87c14248-07c6-4962-868d-844e171e30b7"
>
</ReqRef><Comment>Provides the speed restrictions profile due to axle loads.</Comment>
<Parameters>
<Parameter
 Type="BaseTypes.Distance"
 Name="aDistance"
 Guid="141094f5-bdc1-40cf-ab01-c872c0fa9c60"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="SpeedRestriction"
 Guid="22c57881-cbe1-4a7d-9121-ccd4179f1296"
>
<Expression>(REDUCE Kernel.TrackDescription.AxleLoad.ASP.ALs
    USING X IN  
        MIN ( First =&gt; FUNCTION d : Default.BaseTypes.Distance =&gt; Kernel.TrackDescription.AxleLoad.AxleLoadSpeedRestriction ( anAxleLoad =&gt; X, aDistance =&gt; d ), 
                  Second =&gt; RESULT )
INITIAL_VALUE BaseTypes.MaxSpeedFunction) (aDistance)</Expression>
</Case></Cases>
</Function><Function
 Type="AxleLoadStruct"
 Default=""
 X="220"
 Y="240"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="CreateAxleLoad"
 Guid="c61140d1-b1b4-4189-988b-b480a321f14d"
>
<ReqRef
 Id="1a02feaa-c003-44ae-bbc0-6685c3aab8d7"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="69622df5-07b2-4ac5-8d71-88c91f3fb171"
>
</ReqRef><ReqRef
 Id="4721d317-67ec-4171-b836-61c80b2d2d4c"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5ceaa53c-1a30-49ff-8cb1-ec5fcd51dc95"
>
</ReqRef><ReqRef
 Id="0fb117ff-1235-410b-998a-c63b1d3a86ed"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="714c6dff-cb04-4a12-8c7a-9a83b6981772"
>
</ReqRef><ReqRef
 Id="4947d3fc-1665-47ff-a945-9900318dce54"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8b8792da-93e1-45c9-80ed-ed7bbd7e0833"
>
</ReqRef><Comment>Creates an EFS axle load structure from an element of the collection of ERTMS axle loads provided by the trackside.</Comment>
<Parameters>
<Parameter
 Type="Messages.PACKET.TRACK_TO_TRAIN.AXLE_LOAD_SPEED_PROFILE.SubStructure2"
 Name="anAxleLoad"
 Guid="16568242-a853-459f-a364-a2e05df604fd"
>
</Parameter><Parameter
 Type="BaseTypes.Distance"
 Name="aLocation"
 Guid="107dffac-e597-43bc-a52b-70c44a34fe7d"
>
</Parameter><Parameter
 Type="Messages.Q_SCALE"
 Name="aScale"
 Guid="794accb5-92f8-44f5-b92b-e3aa4993359a"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Value"
 Guid="7ab8f7aa-817f-49eb-8cb8-a7380ea2ea26"
>
<Expression>Kernel.TrackDescription.AxleLoad.AxleLoadStruct
{
  Location =&gt; aLocation,
  Length =&gt; MessageTypes.SpeedRestrictionLength
  (
    aLength =&gt; MessageTypes.QScaleLength (anAxleLoad.L_AXLELOAD, aScale),
    aTrainLengthDelay =&gt; anAxleLoad.Q_FRONT
  ),
  Values =&gt; MAP anAxleLoad.Sequence2 
              USING X IN CreateAxleLoadValue(
                aCategory =&gt; X.M_AXLELOADCAT, 
                aSpeed =&gt; MessageTypes.SpeedResolution (X.V_AXLELOAD, 5.0))
}</Expression>
</Case></Cases>
</Function><Function
 Type="AxleLoadValueStruct"
 Default=""
 X="330"
 Y="240"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="CreateAxleLoadValue"
 Guid="0a0bc59b-a572-4b65-98a5-3496cebc6021"
>
<Comment>Creates an EFS axle load value from an ERMS axle load value provided by the trackside.</Comment>
<Parameters>
<Parameter
 Type="Messages.M_AXLELOADCAT"
 Name="aCategory"
 Guid="cdb7791b-9057-43d2-bf58-d4b798dd3c92"
>
</Parameter><Parameter
 Type="BaseTypes.Speed"
 Name="aSpeed"
 Guid="39062411-6d0b-44cd-a5de-0839802a3256"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Value"
 Guid="ff9d50eb-6730-4d24-a55a-8b6ff2ae4227"
>
<Expression>Kernel.TrackDescription.AxleLoad.AxleLoadValueStruct
{
    Category =&gt; aCategory,
    Speed =&gt; aSpeed
}</Expression>
</Case></Cases>
</Function><Function
 Type="AxleLoadStruct"
 Default=""
 X="440"
 Y="240"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="CreateFirstAxleLoad"
 Guid="8f847cea-a19f-4151-843c-d786f267f793"
>
<Comment>Creates an EFS axle load structure from the first ERTMS axle load element provided by the trackside.</Comment>
<Parameters>
<Parameter
 Type="BaseTypes.Distance"
 Name="aNextLocation"
 Guid="9b3a3641-a9be-4cde-87bb-28c0fbf3cc04"
>
</Parameter><Parameter
 Type="BaseTypes.Length"
 Name="aAxleLoadLength"
 Guid="128d7a65-a065-4f6c-9d9b-fb8df7aacc1d"
>
</Parameter><Parameter
 Type="Messages.Q_FRONT"
 Name="aTrainLengthDelay"
 Guid="92df0e20-593f-4cf4-8a39-e0768261e43b"
>
</Parameter><Parameter
 Type="Messages.PACKET.TRACK_TO_TRAIN.AXLE_LOAD_SPEED_PROFILE.Collection1"
 Name="aAxleLoadValues"
 Guid="32a1c69c-4646-48b2-95de-e4db70e5e1d7"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Value"
 Guid="544fdb12-2f2d-487c-83e5-22d88ff6becc"
>
<Expression>Kernel.TrackDescription.AxleLoad.AxleLoadStruct
{
  Location =&gt; aNextLocation,
  Length =&gt; MessageTypes.SpeedRestrictionLength
  (
    aLength =&gt; aAxleLoadLength,
    aTrainLengthDelay =&gt; aTrainLengthDelay
  ),
  Values =&gt; MAP aAxleLoadValues 
              USING X IN CreateAxleLoadValue(
                aCategory =&gt; X.M_AXLELOADCAT, 
                aSpeed =&gt; MessageTypes.SpeedResolution (X.V_AXLELOAD, 5.0))
}</Expression>
</Case></Cases>
</Function><Function
 Type="BaseTypes.Distance"
 Default=""
 X="110"
 Y="240"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="AbsoluteDistance"
 Guid="a953c8a5-7db2-4c98-9fbb-9cdce89630e2"
>
<Comment>Provides the absolute distance of a certain axle load provided by trackside.</Comment>
<Parameters>
<Parameter
 Type="Messages.PACKET.TRACK_TO_TRAIN.AXLE_LOAD_SPEED_PROFILE.Collection3"
 Name="aAxleLoads"
 Guid="ac572adf-9c77-4de1-9f41-5d2bc355719b"
>
</Parameter><Parameter
 Type="Messages.PACKET.TRACK_TO_TRAIN.AXLE_LOAD_SPEED_PROFILE.SubStructure2"
 Name="anAxleLoad"
 Guid="25826b73-2311-436f-8894-ee7f018d1610"
>
</Parameter><Parameter
 Type="Messages.Q_SCALE"
 Name="aScale"
 Guid="ff5e49bd-84eb-4ef4-a1fe-3f62da74b145"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Value"
 Guid="9e996269-71ec-4423-8269-7977266d22e5"
>
<Expression>SUM
    aAxleLoads |
        Before ( ExpectedFirst =&gt; X, ExpectedSecond =&gt; anAxleLoad, Collection =&gt; aAxleLoads ) OR ( X == anAxleLoad )
USING X IN
    MessageTypes.QScaleDistance ( distance =&gt; X.D_AXLELOAD, scale =&gt; aScale )</Expression>
</Case></Cases>
</Function><Function
 Type="BaseTypes.Speed"
 Default=""
 X="550"
 Y="240"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="AxleLoadSpeedRestriction"
 Guid="9e74a7a7-7107-4423-a5d2-1e3d5bdb9d6b"
>
<ReqRef
 Id="0aceff75-cd35-48b0-8d5a-4bc8277d35c4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d4ccf18a-7ec8-4e19-bd8e-6211379180de"
>
</ReqRef><ReqRef
 Id="9682d65d-131e-40e8-9f59-eee5815bf874"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="dc931458-a3b4-4481-9968-af13d01dc48f"
>
</ReqRef><ReqRef
 Id="78901f0f-a70f-415d-8d57-e5156f7206d0"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2c607c23-56f8-414d-a467-8dfae1f7de75"
>
</ReqRef><Comment>Provides the speed restriction for a given level crossing. The speed restriction is applicable after the distance specified in the level crossing information and during its length. From all categories specified in the level crossing, only the categories lower than or equal to the train&apos;s category are chosen and among these categories the minimum speed value is chosen. In case when there is no category lower that or equal to the train&apos;s category, the maximum speed value is returned.</Comment>
<Parameters>
<Parameter
 Type="AxleLoadStruct"
 Name="anAxleLoad"
 Guid="36b5a445-303c-4608-8735-26983e0c59d4"
>
</Parameter><Parameter
 Type="BaseTypes.Distance"
 Name="aDistance"
 Guid="32405c97-044d-4c7d-978c-1dcc0605d89c"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="BeforeAxleLoad"
 Guid="45e19031-2062-4515-b494-ba2d2bd1a02f"
>
<PreConditions>
<PreCondition
 Guid="55579a66-b5b5-4001-9aa3-c3501ac91ffa"
>0.0 &lt;= aDistance</PreCondition><PreCondition
 Guid="8341334a-efda-4d4e-8822-456b5b3d44ae"
>aDistance &lt; anAxleLoad.Location</PreCondition></PreConditions>
<Expression>BaseTypes.Speed.MaxSpeed</Expression>
</Case><Case
 Name="DuringAxleLoad"
 Guid="2f0a6589-b51a-400a-872e-70adff620438"
>
<PreConditions>
<PreCondition
 Guid="7870a6b7-4187-4e74-8037-45e7738a1837"
>aDistance &lt; anAxleLoad.Location + BaseTypes.LengthToDistance (anAxleLoad.Length)</PreCondition><PreCondition
 Guid="c2336483-6933-444a-a639-460c167fcd61"
>anAxleLoad.Location  &lt;= aDistance</PreCondition></PreConditions>
<Expression>REDUCE
    anAxleLoad.Values | X.Category &lt;= TrainData.TrainData.Value.AxleLoadCategory
    USING X IN
        BaseTypes.MinSpeed (X1 =&gt; X.Speed, X2 =&gt; RESULT)
    INITIAL_VALUE
        BaseTypes.Speed.MaxSpeed</Expression>
</Case><Case
 Name="AfterAxleLoad"
 Guid="a2b45560-b072-4525-a9cc-ba44cfad293f"
>
<PreConditions>
<PreCondition
 Guid="eb19e581-3a05-4969-8bff-889395eff194"
>anAxleLoad.Location + BaseTypes.LengthToDistance (anAxleLoad.Length) &lt;= aDistance</PreCondition></PreConditions>
<Expression>BaseTypes.Speed.MaxSpeed</Expression>
</Case></Cases>
</Function></Functions>
<Procedures>
<Procedure
 X="330"
 Y="370"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="AxleLoadProfileReceived"
 Guid="bd278863-a9e9-4f05-b449-c6b22bc23908"
>
<ReqRef
 Id="0bc77f7e-62ac-42cc-bf02-051522a4d11a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="1b0482c0-e198-4a73-929e-1ca3b1529e2d"
>
</ReqRef><ReqRef
 Id="6a6eebd7-7178-4712-b7fa-135df10c5a4c"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3345ed28-74e9-4bb5-bcd9-555ac3b165f2"
>
</ReqRef><ReqRef
 Id="9be8a6ae-9abe-4a16-8a19-f28a0581c994"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="619edb0b-4f77-4b16-8a96-582fb90e003d"
>
</ReqRef><ReqRef
 Id="ffdc9150-a628-4750-a762-a41c20c3dd26"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="552aac48-c478-4d8d-b3b4-079a3b38aace"
>
</ReqRef><ReqRef
 Id="1800bf83-b2c2-4d37-8406-ca0c31b30f0b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="666be922-5810-4bc2-9fb5-869dfa3ca44e"
>
</ReqRef><ReqRef
 Id="456d49d8-e372-4a93-b53b-700d92362a8a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="95ac47af-cb7b-4037-bb50-822cbd2c657c"
>
</ReqRef><ReqRef
 Id="209659eb-aa53-4a6d-a58e-491a42b89b61"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d662add3-b938-44c3-8b68-5f55690e361f"
>
</ReqRef><ReqRef
 Id="3b4bfa4e-f425-4b5d-a82e-aaaf923dad11"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c74ba870-4613-4480-8d1a-765c160aaf58"
>
</ReqRef><ReqRef
 Id="c57326e0-6fe8-4373-825f-149a86761548"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="860119af-0702-42d1-ac1b-e8aa4731bfd2"
>
</ReqRef><ReqRef
 Id="6c2271aa-b854-4ce6-ba1f-4892e06164b4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="719de1e5-6949-4b1a-9954-25634e10628f"
>
</ReqRef><Comment>This procedure is called when a new axle load profile is received. There are two cases:
  - If the initial states have to be resumed, the distance to where they have to be resumed is saved
  - If no initial states have to be resumed, the axle load profile is updated (done by the HandleNewAxleLoadProfile procedure)</Comment>
<Parameters>
<Parameter
 Type="Messages.PACKET.TRACK_TO_TRAIN.AXLE_LOAD_SPEED_PROFILE.Message"
 Name="Packet"
 Guid="39f1c63f-4621-4a8b-87e3-7a0f079235ff"
>
</Parameter><Parameter
 Type="BaseTypes.Distance"
 Name="aDistanceFromRef"
 Guid="b23d1f6f-44d0-4a38-abbf-305aef66f2ee"
>
</Parameter></Parameters>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="UpdateAxleLoadProfile"
 Guid="53e1254c-7f16-4541-8487-61fd7a8c80da"
>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="InitialStatesToBeResumed"
 Guid="682d8886-1308-4f6d-af62-5240a3246f68"
>
<ReqRef
 Id="35ef498a-1c12-4203-b283-26436d281f11"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a591d1ab-f91d-4150-814f-09375b5217d3"
>
</ReqRef><ReqRef
 Id="13a5ea24-0fd2-4281-99df-f3585e1e8e67"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4ce9aa8b-492e-401d-abd8-e15219cdf935"
>
</ReqRef><Comment>If the initial states have to be resumed, this information is stored.</Comment>
<PreConditions>
<PreCondition
 Guid="5d71078b-ef97-4758-aac1-4ba5b2f40779"
>Packet.Q_TRACKINIT == Messages.Q_TRACKINIT.Empty_profile__initial_states_to_be_resumed</PreCondition><PreCondition
 Guid="32711449-c906-4471-ab6a-9217e29a8f35"
>Kernel.Mode != ModeEnum.TR</PreCondition></PreConditions>
<Actions>
<Action
 Guid="f0af1c31-9fef-4462-8e7c-c02a1a4f3762"
>Kernel.TrackDescription.AxleLoad.ASP.InitialState &lt;- Packet.Q_TRACKINIT</Action><Action
 Guid="dcd0948f-6491-43bd-bf4a-c6a4af622dda"
>Kernel.TrackDescription.AxleLoad.ASP.EmptyProfileDistance &lt;- aDistanceFromRef + MessageTypes.QScaleDistance ( distance =&gt; Packet.D_TRACKINIT, scale =&gt; Packet.Q_SCALE )</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="NoInitialStatesToBeResumed"
 Guid="06102f57-e117-480c-9129-ab152587cb29"
>
<Comment>Otherwise, the received axle load information is handled.</Comment>
<PreConditions>
<PreCondition
 Guid="ccf11f0a-f6de-4d68-a793-4eeae4640d18"
>Packet.Q_TRACKINIT == Messages.Q_TRACKINIT.No_initial_states_to_be_resumed__profile_to_follow</PreCondition><PreCondition
 Guid="afc78fb4-1dc1-4744-bef0-1bb4c503a210"
>Kernel.Mode != ModeEnum.TR</PreCondition></PreConditions>
<Actions>
<Action
 Guid="ed03174f-9bce-4ab2-ab99-5381a1db832c"
>Kernel.TrackDescription.AxleLoad.HandleNewAxleLoadProfile(Packet, aDistanceFromRef)</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="0"
 Y="370"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="AddAxleLoad"
 Guid="e4e805db-9e3d-4948-a63d-4d36d45e57a2"
>
<ReqRef
 Id="456d49d8-e372-4a93-b53b-700d92362a8a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9b6b5647-5c6e-46be-8380-e3a4664e6ea7"
>
</ReqRef><ReqRef
 Id="209659eb-aa53-4a6d-a58e-491a42b89b61"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c222b327-b720-42bb-87a3-200b8d14cda5"
>
</ReqRef><ReqRef
 Id="3b4bfa4e-f425-4b5d-a82e-aaaf923dad11"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3df69091-bfdc-4d86-997e-4070434564f4"
>
</ReqRef><ReqRef
 Id="c57326e0-6fe8-4373-825f-149a86761548"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8a31e2d3-8abe-4a3c-88d3-a81e1e6e45ca"
>
</ReqRef><Comment>Adds a new axle load value to the axle load&apos;s collection.</Comment>
<Parameters>
<Parameter
 Type="Messages.PACKET.TRACK_TO_TRAIN.AXLE_LOAD_SPEED_PROFILE.SubStructure2"
 Name="anAxleLoad"
 Guid="e3f02669-4e67-4b94-b821-a84effe1e288"
>
</Parameter><Parameter
 Type="BaseTypes.Distance"
 Name="Distance"
 Guid="c8282434-c69d-4ae2-8801-ea00bb8c1f3e"
>
</Parameter><Parameter
 Type="Messages.Q_SCALE"
 Name="Scale"
 Guid="550a0b8a-3ddf-4cb4-8464-0ad0af23bee8"
>
</Parameter></Parameters>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="AddAxleLoad"
 Guid="63b33bc6-1915-43fe-a705-355a5031188c"
>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="AddAxleLoad"
 Guid="7749561a-27a0-4fd6-95b1-e0c59d1d5779"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="49c843ec-c06e-4db9-a610-785d3f858172"
>INSERT
  Kernel.TrackDescription.AxleLoad.CreateAxleLoad
  (
    anAxleLoad =&gt; anAxleLoad,
    aLocation =&gt; Distance
    aScale =&gt; Scale
  )
IN
  Kernel.TrackDescription.AxleLoad.ASP.ALs</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="110"
 Y="370"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="HandleNewAxleLoadProfile"
 Guid="29842376-70dd-4f73-9d70-4b3188c17c77"
>
<ReqRef
 Id="456d49d8-e372-4a93-b53b-700d92362a8a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e2c5bf45-6c5b-493c-a480-cb7bbbd21e36"
>
</ReqRef><ReqRef
 Id="209659eb-aa53-4a6d-a58e-491a42b89b61"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="baa417e2-de59-414f-9b19-cf5cd9d5c4cb"
>
</ReqRef><ReqRef
 Id="3b4bfa4e-f425-4b5d-a82e-aaaf923dad11"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="56fad029-0984-4f93-92be-062b6c83c07e"
>
</ReqRef><ReqRef
 Id="c57326e0-6fe8-4373-825f-149a86761548"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d07e6b3a-aee1-4d1c-8649-b72e72abb70c"
>
</ReqRef><ReqRef
 Id="6c2271aa-b854-4ce6-ba1f-4892e06164b4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2860364d-8849-472d-a308-978cd78ebaa5"
>
</ReqRef><Comment>Updates the axle load profile according to the values of the packet received as parameter.</Comment>
<Parameters>
<Parameter
 Type="Messages.PACKET.TRACK_TO_TRAIN.AXLE_LOAD_SPEED_PROFILE.Message"
 Name="Packet"
 Guid="7c1806e0-6b0d-4d1c-837e-4af418170b2c"
>
</Parameter><Parameter
 Type="BaseTypes.Distance"
 Name="aDistanceFromRef"
 Guid="cbcaab1a-ddee-4957-b1b1-4fa9a8548831"
>
</Parameter></Parameters>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Remove old information"
 Guid="e0c21b17-5c90-441e-80a0-797e258de49a"
>
<ReqRef
 Id="d12121cf-b42b-4840-8d4d-20d47f70a1aa"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="64dbfeb1-8927-463b-ba7a-92e0d202fab3"
>
</ReqRef><ReqRef
 Id="1cb531d4-2809-484c-bf3f-445bebb332ef"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9957e268-3673-4890-a314-802d8cfa9da8"
>
</ReqRef><Comment>First, the previously stored information, which will be replaced by the new information, is removed.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Remove old information"
 Guid="b39710e7-b084-4b66-8aec-b4ab0e30d9d8"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="716a507b-9034-4bd8-871a-e4a4ea4c05f2"
>REMOVE ALL X.Location &gt;= aDistanceFromRef + MessageTypes.QScaleDistance ( distance =&gt; Packet.D_AXLELOAD, scale =&gt; Packet.Q_SCALE ) IN ASP.ALs</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Insert first axle load"
 Guid="dafbc0d5-6a4d-44f9-9e44-3c9dba40a004"
>
<Comment>Then, the first element is inserted.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Insert first axle load"
 Guid="2a1ebf3a-9b1a-4bd1-8e20-3dee0efd6f7d"
>
<ReqRef
 Id="0b4c179e-a381-412e-bdad-451bda6066e4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a354144f-629a-411f-aafe-b367e75c1aed"
>
</ReqRef><ReqRef
 Id="13a5ea24-0fd2-4281-99df-f3585e1e8e67"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="bb22c17a-de30-4b2b-aed3-281135bd161b"
>
</ReqRef><ReqRef
 Id="4721d317-67ec-4171-b836-61c80b2d2d4c"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e55b6155-b3a9-4080-af7d-6bf2b7be9cac"
>
</ReqRef><ReqRef
 Id="1a02feaa-c003-44ae-bbc0-6685c3aab8d7"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3d6efcda-9b73-463f-95b4-05c30affe42b"
>
</ReqRef><PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="c4047e4a-5dea-46ec-bca0-126325fe2069"
>INSERT
  Kernel.TrackDescription.AxleLoad.CreateFirstAxleLoad
  (
    aNextLocation =&gt; aDistanceFromRef + MessageTypes.QScaleDistance ( distance =&gt; Packet.D_AXLELOAD, scale =&gt; Packet.Q_SCALE ),
    aAxleLoadLength =&gt; MessageTypes.QScaleLength ( length =&gt; Packet.L_AXLELOAD, scale =&gt; Packet.Q_SCALE ),
    aTrainLengthDelay =&gt; Packet.Q_FRONT,
    aAxleLoadValues =&gt; Packet.Sequence1
  )
IN
  Kernel.TrackDescription.AxleLoad.ASP.ALs</Action><Action
 Guid="6056605f-6bd9-4a23-8286-ee6154e1da22"
>Kernel.TrackDescription.AxleLoad.ASP.InitialState &lt;- Packet.Q_TRACKINIT</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Insert following axle loads"
 Guid="57ee9719-4ba9-41bb-8727-8297c1e69e40"
>
<ReqRef
 Id="0b4c179e-a381-412e-bdad-451bda6066e4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5aadd5de-2c1d-442e-8528-d01ebebbb00c"
>
</ReqRef><Comment>Finally, the following elements are inserted.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Insert following axle loads"
 Guid="0df6f0e0-62f7-425d-a9f7-23c6decb2172"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="08c6ad9c-fe0e-4fae-ba8a-a0a882d8adc1"
>APPLY
    Kernel.TrackDescription.AxleLoad.AddAxleLoad ( anAxleLoad =&gt; X,
                            Distance =&gt; aDistanceFromRef + Kernel.TrackDescription.AxleLoad.AbsoluteDistance ( aAxleLoads =&gt; Packet.Sequence3, anAxleLoad =&gt; X, aScale =&gt; Packet.Q_SCALE) + MessageTypes.QScaleDistance ( distance =&gt; Packet.D_AXLELOAD, scale =&gt; Packet.Q_SCALE),
                            Scale =&gt; Packet.Q_SCALE )
ON
    Packet.Sequence3</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="220"
 Y="370"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="DeleteAxleLoadProfileBeyondLocation"
 Guid="61c93ae1-fee2-40da-aaf2-92b65320c256"
>
<ReqRef
 Id="4585105d-95cd-4519-ab5e-229f4787bb09"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="eaa31a82-e83a-4a35-9bef-b8d9fe45b15f"
>
</ReqRef><ReqRef
 Id="b58f3369-1b6f-45ce-be93-13bcfac8db78"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9a1784b2-8d62-4d5b-b49c-98bed6240f19"
>
</ReqRef><ReqRef
 Id="8cd5d7d8-c20a-4927-9990-dacc4a577a3e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="24a8056c-7b52-4775-bda6-c14f7212ef63"
>
</ReqRef><ReqRef
 Id="69c41e0d-de0a-4c0e-9b6d-32a32fdf13e2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="dab6336a-a983-4075-a559-a6f6df7c3878"
>
</ReqRef><Comment>Deletes the axle load profile information beyond the provided location.</Comment>
<Parameters>
<Parameter
 Type="BaseTypes.Distance"
 Name="aLocation"
 Guid="45868c36-045c-494e-a801-a9e70d9a4400"
>
</Parameter></Parameters>
<Rules>
<Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Delete axle load speed profile beyond the given location"
 Guid="30d45a96-4513-43ad-aebd-607cd0fdcd22"
>
<Comment>Deletes the axlo load speed profile beyond the provided location.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Delete axle load speed profile beyond the given location"
 Guid="6bea3d51-e33c-4574-afbe-398d11c78816"
>
<PreConditions>
<PreCondition
 Guid="474d2b8c-225f-458b-ab6b-e27f1a74a7f3"
>Kernel.TrackDescription.AxleLoad.ASP.ALs != []
  AND
(LAST X IN Kernel.TrackDescription.AxleLoad.ASP.ALs).Location + (LAST X IN Kernel.TrackDescription.AxleLoad.ASP.ALs).Length &gt; aLocation</PreCondition></PreConditions>
<Actions>
</Actions>
<SubRules>
<Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Remove elements beyond the given location"
 Guid="e100a0b7-208f-4527-ae7a-d2ba598dfda3"
>
<Comment>First, remove all the axle load elements that are beyond the provided location.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Remove elements beyond the given location"
 Guid="0b09f01e-10e9-425a-b0aa-7b70b341dc58"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="921e65af-92b9-49b6-99f6-fa3e57b3f59e"
>Kernel.TrackDescription.AxleLoad.ASP.ALs &lt;- MAP Kernel.TrackDescription.AxleLoad.ASP.ALs | X.Location &lt;= aLocation USING X IN X</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Update the length of the last element"
 Guid="d74cfad9-8913-49a3-97cd-7d8902ad0edd"
>
<Comment>Then, update the length of the last axle load element in order for it to end at aLocation.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Update the length of the last element"
 Guid="939f739f-f106-4e5f-bcff-3b741b6f7ef6"
>
<PreConditions>
<PreCondition
 Guid="1f34840e-6563-4de4-86f3-302807088bf7"
>Kernel.TrackDescription.AxleLoad.ASP != EMPTY
  AND
Kernel.TrackDescription.AxleLoad.ASP.ALs != []</PreCondition></PreConditions>
<Actions>
<Action
 Guid="c434b2e7-ef58-4e81-8c69-bb00823638aa"
>(LAST X IN Kernel.TrackDescription.AxleLoad.ASP.ALs).Length &lt;- aLocation - (LAST X IN Kernel.TrackDescription.AxleLoad.ASP.ALs).Location</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure></Procedures>
<Variables>
<Variable
 Type="AxleLoadProfileStruct"
 DefaultValue="Kernel.TrackDescription.AxleLoad.AxleLoadProfileStruct
{
    EmptyProfileDistance =&gt; 0.0,
    InitialState =&gt; Messages.Q_TRACKINIT.No_initial_states_to_be_resumed__profile_to_follow,
    ALs =&gt; []
}"
 VariableMode="Internal"
 X="0"
 Y="0"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ASP"
 Guid="bcd8e2e5-3222-4524-8d15-51f6d4b02c75"
>
<ReqRef
 Id="38267eb5-348a-4d09-b4c6-4907aea348f2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0af586db-7172-4fc2-9f5a-8376324d7e50"
>
</ReqRef><ReqRef
 Id="6a6eebd7-7178-4712-b7fa-135df10c5a4c"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9859fe5b-2ef4-4f0d-a41b-f24fab17a583"
>
</ReqRef><ReqRef
 Id="a3345820-31df-4b78-835f-d02b8d42d3bc"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6817a3b3-4ad2-4d52-bea9-7028bff8333a"
>
</ReqRef><ReqRef
 Id="9e4cc30b-7c23-4202-aa4b-87839eea29a1"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c9208513-6aca-43f6-99e6-09162f011e4b"
>
</ReqRef><ReqRef
 Id="456d49d8-e372-4a93-b53b-700d92362a8a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="7ce2cdbf-f086-4093-b1f8-4bdf1a715a8b"
>
</ReqRef><ReqRef
 Id="209659eb-aa53-4a6d-a58e-491a42b89b61"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c736a741-b02c-4046-8034-51c830d40505"
>
</ReqRef><ReqRef
 Id="3b4bfa4e-f425-4b5d-a82e-aaaf923dad11"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4efc071c-3189-4521-844f-8cd81fbd2fc6"
>
</ReqRef><ReqRef
 Id="c57326e0-6fe8-4373-825f-149a86761548"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3d640e0f-7b50-48b3-9101-f17565ea82a1"
>
</ReqRef><Comment>Contains the axle load speed restrictions provided by the trackside.</Comment>
</Variable></Variables>
<Rules>
<Rule
 Priority="Processing"
 X="0"
 Y="470"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Resume initial states"
 Guid="50410267-7e4a-49e0-947c-c21a5a69a288"
>
<ReqRef
 Id="13a5ea24-0fd2-4281-99df-f3585e1e8e67"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="7c1bada1-add4-4eac-8e80-e0dcfef582d0"
>
</ReqRef><ReqRef
 Id="35ef498a-1c12-4203-b283-26436d281f11"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a12e86dc-2c22-4897-bd97-12d9e38b78d1"
>
</ReqRef><ReqRef
 Id="fd20f88d-92bb-420d-b66e-a56c331b36a0"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="79647270-f54e-42b5-a39f-3000e935961a"
>
</ReqRef><ReqRef
 Id="8f475e6f-ef11-49a2-9e54-9d3d12e55aa8"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="55a18d49-2900-4af9-b3fa-7266ea48ee72"
>
</ReqRef><ReqRef
 Id="5b9cb291-20b3-4b57-b985-9777f8e49ebc"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="71ca36a3-7da6-4885-8190-7cd305d3fb5b"
>
</ReqRef><Comment>If the train reached the distance where the initial states have to be resumed, the axle load profile is deleted.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Resume initial states"
 Guid="a03d3367-fb14-45fa-9955-c16b87b36bfa"
>
<PreConditions>
<PreCondition
 Guid="72e1f556-901a-48d1-b07e-569a772e86e3"
>Kernel.TrainPosition.FrontEndPosition(
    PointOfInterest=&gt;DistanceIntervalEnum.Nom
) &gt;= Kernel.TrackDescription.AxleLoad.ASP.EmptyProfileDistance</PreCondition><PreCondition
 Guid="89824f4b-7e4f-4726-9dc5-ebe40aec7187"
>Kernel.TrackDescription.AxleLoad.ASP.InitialState == Messages.Q_TRACKINIT.Empty_profile__initial_states_to_be_resumed</PreCondition></PreConditions>
<Actions>
<Action
 Guid="4ad3347b-ced2-45bb-a7e7-f5c8c12d4901"
>Kernel.TrackDescription.AxleLoad.ASP.ALs &lt;- []</Action><Action
 Guid="40a9520d-f6e6-4098-9f5e-21ae83c6433f"
>Kernel.TrackDescription.AxleLoad.ASP.InitialState &lt;- Messages.Q_TRACKINIT.No_initial_states_to_be_resumed__profile_to_follow</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</NameSpace>
