<NameSpace
 X="10"
 Y="620"
 Width="100"
 Height="50"
 Name="ModeRules"
 Guid="210b07dc-d8e7-4508-b482-96d4a32b7348"
>
<NameSpaces>
</NameSpaces>
<Functions>
<Function
 Type="Boolean"
 Default=""
 X="111"
 Y="1"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ShouldDeleteLTO"
 Guid="d0048d72-f70f-4b4a-a2da-f60cb9053759"
>
<ReqRef
 Id="937ae4a5-e171-4a75-90fa-d90a3e16810f"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5fb23795-baa3-4bad-a1ad-670f5668d4cd"
>
</ReqRef><Comment>Indicates whether the Level Transition Orders should be deleted due to the mode change.</Comment>
<Cases>
<Case
 Name="Previous mode is SH"
 Guid="11f2c9ae-b0e6-4a58-a973-f44390d30161"
>
<PreConditions>
<PreCondition
 Guid="1201950b-d598-4c15-8893-92dff8eed0d2"
>Kernel.Modes.ModeTransitions.PrevMode == ModeEnum.SH</PreCondition></PreConditions>
<Expression>Kernel.Mode in [ModeEnum.NP, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.UN, ModeEnum.SN, ModeEnum.RV]</Expression>
</Case><Case
 Name="Previous mode is PS"
 Guid="24cc2c50-a96a-4ff0-b83d-50204729dbed"
>
<PreConditions>
<PreCondition
 Guid="bd87c659-fdb7-4e9d-87f3-30e249ad0db2"
>Kernel.Modes.ModeTransitions.PrevMode == ModeEnum.PS</PreCondition></PreConditions>
<Expression>Kernel.Mode in [ModeEnum.NP, ModeEnum.SR, ModeEnum.NL, ModeEnum.UN, ModeEnum.SN, ModeEnum.RV]</Expression>
</Case><Case
 Name="Otherwise"
 Guid="3e6ca875-92df-4171-a17e-5e02367eda0a"
>
<Expression>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.SN, ModeEnum.RV]</Expression>
</Case></Cases>
</Function></Functions>
<Procedures>
<Procedure
 X="661"
 Y="1"
 Width="100"
 Height="50"
 Name="HandleStoredInformation"
 Guid="ce9c886a-34c4-4693-98ca-4628cd1056d1"
>
<ReqRef
 Id="54df0d45-15e2-4548-8648-7a96a61e1227"
 SpecId="c238ead1-8ba7-4613-ae49-4288833ea80d"
 Guid="4fc09b6e-6c35-411a-a172-35ed263aa489"
>
</ReqRef><ReqRef
 Id="f1a72111-334b-4c63-9709-ceaeefe93df9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="fd62e69e-5f88-4373-842e-3153c4d6677f"
>
</ReqRef><Comment>Handles all the deleted or reset information on mode change.</Comment>
<Rules>
<Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle National Values"
 Guid="c42f0a6e-4f26-4007-9865-95daee50f3b8"
>
<ReqRef
 Id="0aac2566-835d-44ac-a0b4-c772bd3c545b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4fdff24a-5a97-4b42-96da-2d88c3a89667"
>
</ReqRef><Comment>National values are always unchanged (since &quot;NR&quot; is considered the same as &quot;U&quot;)</Comment>
<SubRules></SubRules>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Not yet applicable National Values"
 Guid="55e5fa54-105b-4fa5-b539-ecf5e27768f9"
>
<ReqRef
 Id="de696b0d-7dc0-4f7d-a1a3-a2085fff0c6d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ba274f0b-b61c-4d29-92e5-2daa682d9aac"
>
</ReqRef><Comment>Delete the Not yet applicable National Values when entering NP mode.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Not yet applicable National Values"
 Guid="ce3d79e4-8c7d-4c30-958b-80d3be5c6c06"
>
<PreConditions>
<PreCondition
 Guid="00c16a64-a658-4f4b-bd70-46338b03a3fd"
>Kernel.Mode in [ModeEnum.NP]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="0af5d5ea-f98e-4583-aa8b-97ec549868ec"
>DeleteInformation(Kernel.NationalValues.NotApplicableNationalValues)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Linking"
 Guid="f79c567f-e5ca-4f50-9ddf-672c8fdfaba1"
>
<ReqRef
 Id="1d3d434d-574c-4ec5-9655-c85d6721c8d9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="489b5344-2291-4bce-9229-4ea3817d5fb5"
>
</ReqRef><Comment>Delete the stored linkings when entering NP, SB, PS, SH, SR, SL, NL, UN, TR, SN or RV modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Linking"
 Guid="8e238b2b-0aea-464a-aa6a-a78845933006"
>
<PreConditions>
<PreCondition
 Guid="d04a3bb7-5ed5-4edb-a654-20eb5425da82"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="aa75fc56-864c-49d5-8717-a7efeb9e170d"
>BTM.Linking.Linkings &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Movement Authority"
 Guid="fdee097b-5c44-4dfc-8642-a77e2c06caf4"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ec7020bc-3bf1-4945-877d-8c188b6a6a67"
>
</ReqRef><ReqRef
 Id="9d4797ea-78a8-430b-95ff-ab8ccf427197"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="1bbe1b2e-5d3a-4275-becb-a823e57dbcd4"
>
</ReqRef><Comment>Delete the MA when entering NP, SB, PS, SH, SR, SL, NL, UN, TR, SN or RV modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="HandleMA"
 Guid="33741c8e-4324-4647-9e25-38f0e333db77"
>
<PreConditions>
<PreCondition
 Guid="8d3bfbb4-2990-45b9-a602-c17071a67694"
>Kernel.Mode in [ ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="3213db86-c76f-4338-af19-87e5e3baa18c"
>Kernel.MA.MA &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Gradient Profile"
 Guid="008b6cfb-1642-4bcd-817c-c5de4cc750d4"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8be27502-e71e-493b-8c8f-b25ac62a3baa"
>
</ReqRef><ReqRef
 Id="2f2df53c-e717-4abf-bcd7-995bdf07a8bc"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0b2b4498-e23d-42cf-b855-64f587f63ea7"
>
</ReqRef><Comment>Delete the gradient information when entering NP? SB, PS, SH, SR, SL, NL, UN, TR, SN or RV modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Gradient Profile"
 Guid="0ed42227-74ae-4b09-a641-e2bdc9f4b5d5"
>
<PreConditions>
<PreCondition
 Guid="7e47b9b3-f88b-435d-be06-489d85102444"
>Kernel.Mode in [ ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="83695b4e-6e2e-471e-a33a-b09bb6e1e5fd"
>Kernel.TrackDescription.Gradient.Gradients &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle International SSP"
 Guid="a50646b0-5b9b-4e23-b00f-f33c1d3add66"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d9e00ebf-5202-4b5e-849a-39e32e10adbb"
>
</ReqRef><ReqRef
 Id="f5d2b12f-7119-4063-9f34-c47c3f83ccdf"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="da642096-1a4d-450f-81d6-a038acd4fc7c"
>
</ReqRef><Comment>Delete the SSP when entering NP, SB, PS, SH, SR, SL, NL, UN, TR, SN or RV modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="HandleSSP"
 Guid="b563b33e-457b-496a-a9d4-570827293730"
>
<PreConditions>
<PreCondition
 Guid="3ebc735d-5a3f-466e-9749-d2766fa92430"
>Kernel.Mode in [ ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="bc3cd369-f546-4727-9119-65c20eba5538"
>Kernel.TrackDescription.StaticSpeedProfile.SSP &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Axle load speed profile"
 Guid="0723e2ee-e8cb-4631-b60a-4b4b817ab48e"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e4192a45-9e02-4469-bcf3-58d080fdbdf9"
>
</ReqRef><ReqRef
 Id="29c38dc0-760e-489c-b451-a83537cb9e44"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e5b1e27a-4115-4815-b6d0-e554fa61dd2b"
>
</ReqRef><Comment>Reset the axle load speed profile when entering NP ,SB, PS, SH, SR, SL, NL, UN, TR, SN or RV modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="HandleAxleLoadSpeed"
 Guid="4d48208a-57f5-4741-a8b1-380c1531f5a5"
>
<PreConditions>
<PreCondition
 Guid="54bb23ce-770d-4b8c-a6c9-da92173cbaae"
>Kernel.Mode in [ ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="3b6b19ed-4fd4-4f6f-9c3e-0c7850690505"
>Kernel.TrackDescription.AxleLoad.ASP &lt;- Kernel.TrackDescription.AxleLoad.AxleLoadProfileStruct{
    InitialState =&gt; Messages.Q_TRACKINIT.No_initial_states_to_be_resumed__profile_to_follow,
    EmptyProfileDistance =&gt; 0.0,
    ALs =&gt; []
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle STM max speed"
 Guid="30d0428b-09a3-4229-aaff-eabb6e7fbc15"
>
<ReqRef
 Id="9a7ad2f4-9544-47b9-8ecf-e41928b8a0c6"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b6e4dd81-013e-4ddf-b9b3-240bf3ece910"
>
</ReqRef><Comment>Delete the STM max speed whe entering the NP, SB, SH, SR, SL, NL or RV modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle STM max speed"
 Guid="7ac082f8-e805-404a-a17c-5086d3b94b48"
>
<PreConditions>
<PreCondition
 Guid="a3d36014-1ecf-4238-bbaa-c8f52ed2dd9e"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="e288cacc-2801-4c7d-a3e9-06b510230d1e"
>STM.MaxSpeed &lt;- STM.SpeedSupervision
{
    Speed =&gt; BaseTypes.Speed.NA,
    HasToBeSupervised =&gt; False
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle STM system speed/distance"
 Guid="d0df241e-fc14-438c-be63-574d6e2a84d1"
>
<ReqRef
 Id="7a9da386-4950-4016-ae38-76f844697442"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5a1f67fa-34c6-49c4-b0d2-81318bf1c975"
>
</ReqRef><Comment>Delete the STM speed and distance supervision information when entering the NP, SB, PS, SH, SR, SL, NL or RV modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle STM system speed/distance"
 Guid="50c3f37b-b526-4133-8485-1d6320f35e55"
>
<PreConditions>
<PreCondition
 Guid="0f479f27-19f7-4ada-bc1c-dcdcfd0e95ce"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="48845d4d-7963-486d-aa41-3b43931eeb02"
>STM.SystemSpeed &lt;- STM.SpeedSupervision{
Speed =&gt; BaseTypes.Speed.NA,
HasToBeSupervised =&gt; Boolean.False,
Distance =&gt; BaseTypes.Distance.Unknown
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Level Transition Order"
 Guid="fdcb6290-98ad-46ae-929b-f561a3f00cf6"
>
<ReqRef
 Id="937ae4a5-e171-4a75-90fa-d90a3e16810f"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e4571ce7-0102-4054-aab7-e6dbd2e50807"
>
</ReqRef><Comment>Delete the level transition order information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Level Transition Order"
 Guid="a53567fd-144c-4017-9896-f4db0a9988f3"
>
<PreConditions>
<PreCondition
 Guid="a0250bc5-6a52-46b1-a3ec-8a37cd7f9e95"
>Kernel.Modes.ModeTransitions.ModeRules.ShouldDeleteLTO()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="1a3d2506-57f5-4dbe-a364-86c9e37532a3"
>Kernel.LevelTransition.LevelTransitionOrder &lt;- EMPTY</Action><Action
 Guid="17e76a6e-5232-4d2d-b127-3263918b0e04"
>Kernel.LevelTransition.LevelTransitionToProcess &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Stop Shunting on desk opening"
 Guid="4d922aaf-9986-415e-9427-f3caf03d279f"
>
<ReqRef
 Id="9f1b84e2-cdfa-44cc-bfbf-cc662287f312"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="05456744-d8b6-4e99-a977-71d720af413f"
>
</ReqRef><Comment>Delete the stop shunting on desk opening information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Stop Shunting on desk opening"
 Guid="f5f97b58-5892-4d57-a608-d50bd76008c1"
>
<PreConditions>
<PreCondition
 Guid="24625373-64c8-4e0f-b193-fd8dc8109652"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.SL]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="86bd1476-4411-4751-bba9-de24735c8c5f"
>Kernel.Modes.Shunting.StopShuntingOnDeskOpening &lt;- Boolean.False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle List of balises for SH area"
 Guid="37024921-e65b-4ba1-85be-c1730d2ed2e9"
>
<ReqRef
 Id="d31bcbb5-dfdb-4112-a7a9-b814b89c3433"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="23448fc6-f5c5-4eff-9ac2-40019a9c6e56"
>
</ReqRef><Comment>Delete the list of balises for SH mode when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle List of balises for SH area"
 Guid="978c3138-89a1-4ddf-a81b-de3547d0c071"
>
<PreConditions>
<PreCondition
 Guid="e6251b16-ea9e-4b3d-b498-4fbd6e4dc644"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="e6c24441-ff92-44c9-8e84-6a1619260895"
>Kernel.Modes.Shunting.BaliseGroupsForShArea &lt;- Kernel.Modes.Shunting.ExpectedBGstruct{
ListReceived =&gt; Boolean.False,
BGs =&gt; []
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle MA Request Parameters"
 Guid="fe023574-eecb-4c80-9777-67ed38525837"
>
<ReqRef
 Id="52f3f9c5-df30-412b-84e1-e25478bd838a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="fa73ba6e-c8ca-4736-bc3f-b983c589d49b"
>
</ReqRef><Comment>Delete the MA request parameters when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle MA Request Parameters"
 Guid="763d51b9-de49-4c7c-9289-bdb261ceca17"
>
<PreConditions>
<PreCondition
 Guid="a70240ff-3ac0-4ae5-a6c5-3983f5957616"
>Kernel.Mode in [ModeEnum.NP]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="4edd62c4-ef4c-4383-ab61-d01692d23e0b"
>MA.MARequest.MARequestParameters &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Position Report parameters"
 Guid="d71fc9ba-0f84-41ac-85c4-2a13a7832594"
>
<ReqRef
 Id="3f1c9e72-fa3c-48e3-ac90-5136da5f863c"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c5446f42-7608-4c96-a46e-f47e007327ab"
>
</ReqRef><Comment>Delete the position report parameters when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Position Report parameters"
 Guid="5b9e54ec-bec7-4cd2-9044-4351cf4ffe01"
>
<PreConditions>
<PreCondition
 Guid="2ab9b504-2891-4a29-aa4c-27e4f4dccd4d"
>Kernel.Mode in [ModeEnum.NP]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="6859fea0-bf01-4b24-bd96-dee8bd1f3f11"
>DeleteInformation(EURORADIO.Messages.PositionReport.PositionReportParameters)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle List of Balises in SR Authority + SR mode speed limit and distance"
 Guid="9b9c02eb-02af-453d-94df-11e082b152c1"
>
<ReqRef
 Id="18a7ff9f-b1f5-422b-855c-61dc1bcc5e52"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9bb91e08-7f42-4389-8b2e-799c5640a51a"
>
</ReqRef><Comment>Delete the list of balises for SR mode and the SR speed and distance supervision information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle List of Balises in SR Authority + SR mode speed limit and distance"
 Guid="f2ae0304-06d4-471d-9f9d-4e0446fc3b1f"
>
<PreConditions>
<PreCondition
 Guid="15f81c23-74f8-492e-8915-66cb8c7faf55"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.FS, ModeEnum.LS, ModeEnum.OS, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="79fa84ec-5bc4-4b75-91f6-7389d2a17361"
>Kernel.Modes.StaffResponsible.SRAuthorisation &lt;- EMPTY</Action><Action
 Guid="37532850-e322-451a-84eb-b8a19545d122"
>ModeRelatedSpeedLimits.SRModeSpeedRestriction &lt;- Default.BaseTypes.Speed.NA</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Temporary Speed Restriction"
 Guid="48d09c47-c0de-4d84-9ac8-f9bf885e1f40"
>
<ReqRef
 Id="5c2862fc-bef8-420c-bafb-f6c8750cfecf"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="65e13560-b0d5-4d9c-ab79-7e9c4d76c412"
>
</ReqRef><Comment>Delete the TSRs when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Temporary Speed Restriction"
 Guid="3b899909-5ab9-4b90-b532-9212930bbec1"
>
<PreConditions>
<PreCondition
 Guid="a8aeb857-8bdf-4ece-afab-0cfb902fb7dc"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SL, ModeEnum.NL, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="748186ba-7def-4443-95cd-9b81d526d45d"
>Kernel.TSR.TSRs &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Inhibition of revocable TSRs from balises in L2/3"
 Guid="b5a8a7b9-2528-4ca8-924c-1e332a4afa19"
>
<ReqRef
 Id="673f5519-dfa6-4981-aa5b-ae2c67ca1ef3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e579aaf4-063f-41ac-9840-c2d2441f6577"
>
</ReqRef><Comment>Cancel the inhibition of revocable TSRs when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Inhibition of revocable TSRs from balises in L2/3"
 Guid="8cc31621-21e2-4897-8a27-9a18df18c4ff"
>
<PreConditions>
<PreCondition
 Guid="4cf795b5-1f92-4431-a35d-4855c15dcb65"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="47c8a756-fd11-49df-8c72-7dc4d0a3cbc9"
>Kernel.TSR.InhibitRevocableTSRsFromBalises &lt;- Boolean.False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Default Gradient for TSR"
 Guid="e66acf7a-16cb-4100-8d22-5c3412bcdf1a"
>
<ReqRef
 Id="376b24c8-077f-4ae1-bd9b-5c1d37767b48"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="532e6f96-5b8b-4022-bbbb-1c5cedec5df5"
>
</ReqRef><Comment>Delete the default gradient for TSRs when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Default Gradient for TSR"
 Guid="007a017f-7ae6-4e4d-95a8-6db1f7106e85"
>
<PreConditions>
<PreCondition
 Guid="a47e6f1c-1018-4c60-82bc-610781a4088e"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SL, ModeEnum.NL, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="986e9d6c-e5cf-408c-9306-b2dbf7fd365e"
>Kernel.TrackDescription.Gradient.DefaultGradientForTSR &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Signalling related Speed Restriction"
 Guid="6f4c779d-dd4e-4260-8790-367e6127fa1d"
>
<ReqRef
 Id="531a0e79-feb4-4e88-9189-668392a12ebe"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="7ec6958e-35a6-40c7-a3af-3e0c6ba4c5f3"
>
</ReqRef><Comment>Delete hte signalling related speed restriction when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Signalling related Speed Restriction"
 Guid="3574bf41-2b3a-4c31-9cdf-3611a675147f"
>
<PreConditions>
<PreCondition
 Guid="55a2b501-1a54-4d21-a8a9-efe78b5a136c"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="b6494f93-bf18-406a-b1e6-8c3a007a8004"
>MA.SignallingRelatedSR &lt;- Kernel.MA.SignallingRelatedSRStruct{
Value =&gt; BaseTypes.Speed.MaxSpeed,
End =&gt; BaseTypes.Distance.Unknown
}</Action><Action
 Guid="5755b875-1e5f-4a4d-adfc-5f75c1f628af"
>MA.InfillSignallingRelatedSR.Validity &lt;- Default.DataStateEnum.Invalid</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Route Suitability Data"
 Guid="a177dafa-0b69-4574-80b8-f1a740a82b7a"
>
<ReqRef
 Id="ed33eb7f-8b9e-4485-9e25-62147cd368ff"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="76778f54-3b45-43b2-b257-ce32bfbeca50"
>
</ReqRef><ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="65836dc4-f7fe-415a-90dd-06a0ae2a01a4"
>
</ReqRef><Comment>Delete the route suitability information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="HandleRouteSuitability"
 Guid="542e0fcf-3e34-41b3-aa94-3c57ffc3b34c"
>
<PreConditions>
<PreCondition
 Guid="d884d8a2-9654-40b3-8fdc-8c65deeef831"
>Kernel.Modes.ModeTransitions.PrevMode != Kernel.Mode AND Kernel.Mode in [ ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="c574f4fe-de1f-491c-a4b0-1fc80d9cc8c6"
>Kernel.TrackDescription.RouteSuitability.RouteSuitabilityProfile &lt;- Kernel.TrackDescription.RouteSuitability.RouteSuitabilityInformationStruct{
    EmptyProfileDistance =&gt; 0.0,
    InitialState =&gt; Messages.Q_TRACKINIT.No_initial_states_to_be_resumed__profile_to_follow,
    Items =&gt; []
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Adhesion Factors"
 Guid="d171824f-953d-446c-8b0f-8778988b2f55"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3ff47421-8a53-491c-9099-791fc28f8370"
>
</ReqRef><ReqRef
 Id="941b0b9c-8d1a-40e9-9fdb-b2f562a6ab57"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ba08bdcd-f9e5-4deb-bc2e-710bfe764f5f"
>
</ReqRef><ReqRef
 Id="2cc71448-b090-4455-95e4-1d187ca9debe"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ebd11de4-7573-4475-ac09-d824209bec63"
>
</ReqRef><Comment>Reset the adhesion factors when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="HandleAdhesionFactor"
 Guid="3d6deb1d-3a6d-4c77-b03c-4320fb60de7d"
>
<PreConditions>
<PreCondition
 Guid="ac02df1c-5c73-4512-8992-b2764893a817"
>Kernel.Mode in [ ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SL, ModeEnum.NL, ModeEnum.SN]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="51c26205-54cc-4334-9fef-e647f4478723"
>Kernel.TrackDescription.AdhesionFactors.AdhFactors &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Plain Text Information"
 Guid="5f88d717-5d2b-4a6a-bc37-7f0379c6a6a3"
>
<ReqRef
 Id="5aecc0d9-b4af-4927-89c0-a479d7695d7a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="364c3dca-42af-4260-a9b9-092652e5dc27"
>
</ReqRef><Comment>Delete the plain text information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Plain Text Information"
 Guid="8d648278-186e-4506-931c-7a64592dc170"
>
<PreConditions>
<PreCondition
 Guid="250b632f-2341-4c21-8896-9ea13e8f056c"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SL, ModeEnum.IS]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="8f364734-2456-4b33-83c7-06700ce462a4"
>Kernel.TextMessages.PlainTextMessages &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Fixed Text Information"
 Guid="a8072633-1b24-4d57-ab79-4a01a95f5524"
>
<ReqRef
 Id="4cdc813b-f662-4585-9abd-9a301203901a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c8032ede-7fd1-4f27-b91f-ce9d03bd83a6"
>
</ReqRef><Comment>Delete the fixed text information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Fixed Text Information"
 Guid="e381a37a-55c0-4ce2-94db-e09870cd418f"
>
<PreConditions>
<PreCondition
 Guid="f4d1264e-d6bd-462f-82f3-376251f236be"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SL, ModeEnum.IS]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="e9f73d7f-e96e-4599-84e1-878bbd1a7297"
>Kernel.TextMessages.FixedTextMessages &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Geographical Position"
 Guid="a586419f-3c90-409a-88fe-d236d7f1f791"
>
<ReqRef
 Id="d4bc7469-49ff-4a7d-9404-c01cf99d97d5"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6c35c139-63da-4c64-8993-d22db971f216"
>
</ReqRef><Comment>Delete the geographical position when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Geographical Position"
 Guid="5a45cff7-eb47-4e4d-b28e-d9bc4b49f123"
>
<PreConditions>
<PreCondition
 Guid="0655cf78-624d-489c-843a-ed4f790ced45"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.PS, ModeEnum.SH, ModeEnum.SL, ModeEnum.IS, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="f3943758-7237-4f6b-abb3-5c9b7f8d0b2e"
>Kernel.GeographicalPosition.GeographicalPositionInformation &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Mode Profile"
 Guid="24263de3-0c4b-4025-8e2d-cf439c2c7798"
>
<ReqRef
 Id="bb271ed0-a07a-4881-a9ec-25b4bbafcbdd"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="86f62212-c659-4faf-849f-8e4645957ff7"
>
</ReqRef><Comment>Delete the mode profile when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Mode Profile"
 Guid="b48526cd-0745-4902-9033-f2779bcb715f"
>
<PreConditions>
<PreCondition
 Guid="f9704f2d-9db2-4813-bf75-b2a37498ec1b"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="312edcad-3833-4f4d-8507-02297f317878"
>Kernel.MA.ModeProfile.Profile &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle RBC Transition Order"
 Guid="af7c6858-a79d-48b3-a2df-8b307a80544d"
>
<ReqRef
 Id="1a4cc193-a720-42d9-a632-ef6a9ab225e9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="fee2fedb-ed30-4769-984b-9b2f113c7ee4"
>
</ReqRef><Comment>Delete the RBC contact order when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle RBC Transition Order"
 Guid="3c640cab-5893-4ce8-9cf1-4d18c8d3147d"
>
<PreConditions>
<PreCondition
 Guid="923eeb5c-5b3a-4e66-ac09-f7b47677af18"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="a1d1a714-4b37-4ae9-8b3f-a2c63860ec8d"
>EURORADIO.Terminal.SecondaryTerminal().AcceptingRBCContactOrder &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Name="Handle Radio Infill Area information"
 Guid="113ad32b-efc9-408d-9e33-298a3af482c9"
>
<ReqRef
 Id="376a6094-63f6-44d0-9a8b-9e39d60fac0a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8e97d8b2-671a-47e0-b94c-f9ffd2a811eb"
>
</ReqRef><Comment>Delete the radio infill area information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="Handle Radio Infill Area information"
 Guid="bdb5067f-301f-4d71-8ce5-efa112f8922d"
>
<PreConditions>
<PreCondition
 Guid="8191362c-e4bb-4de3-9bd9-7807516b9345"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
</Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Name="Handle EOLM information"
 Guid="019e3e1f-da7f-40ea-b310-cdd986de2e0d"
>
<ReqRef
 Id="a2aa3562-7b82-4f58-8cbc-4eace4ca4d36"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8d71ed1d-18c5-482a-ae5e-ba449c831870"
>
</ReqRef><Comment>Invalidate the end of loop information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="Revalidate EOLM information"
 Guid="f1eeae92-6a4b-4626-a674-86d9075127e0"
>
<PreConditions>
<PreCondition
 Guid="21339913-a2e6-4dbf-b892-3f5098e0ffd8"
>Kernel.Mode in [ModeEnum.NP]</PreCondition></PreConditions>
<Actions>
</Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Track Conditions 1"
 Guid="0e721665-38cb-4fc4-b13b-4af1800424fd"
>
<ReqRef
 Id="c1c2e72d-abfa-40cc-ab4e-10dd67d304e9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e1795896-1e90-42f1-a6ed-b3568c18d72b"
>
</ReqRef><ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0cb6a7e4-4c78-4330-96d1-8814a04ec8dc"
>
</ReqRef><ReqRef
 Id="f6e6d494-3cd0-4177-92c5-a445af1573e0"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4ed7983b-d89e-4b67-a34a-819776000644"
>
</ReqRef><Comment>Reset certain track conditions when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="HandleTrackConditions1"
 Guid="3108c1e5-a0b1-4b00-a061-310f34de156f"
>
<PreConditions>
<PreCondition
 Guid="60ff603d-530d-4734-95b0-d600e8b8922d"
>Kernel.Mode in [ ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.UN, ModeEnum.SN, ModeEnum.RV ]</PreCondition><PreCondition
 Guid="0dfc5e9b-6540-4329-9ea3-4644c6ab7666"
>Kernel.ActiveFunctions.ManageTrackConditions_BrakeInhibition()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="67db5d7f-5b93-4297-87b9-a9bc1fc31e39"
>TrackDescription.TrackConditions.General.TCProfile &lt;- MAP TrackDescription.TrackConditions.General.TCProfile USING X IN TrackDescription.TrackConditions.General.HandleTCPwhenEnteringGivenMode1( X )</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Track Conditions 2"
 Guid="45888872-8b5a-4ce6-90ff-90c44d1cbd8b"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="924d4941-0472-4ab5-a4f7-7fed0bd0e2aa"
>
</ReqRef><ReqRef
 Id="81e057d0-016b-449f-8994-c2a6d7b34729"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ceccf6d1-c5f4-465c-9952-0898beddaeee"
>
</ReqRef><ReqRef
 Id="dea5ad72-243c-4480-8ff6-90cbcdd3665d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d9ba5eca-e88b-4793-af29-522b1225a25a"
>
</ReqRef><Comment>Reset certains track conditions when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="HandleTrackConditions2"
 Guid="4e20a0da-fbc1-4dd8-9d40-38433acb61d0"
>
<PreConditions>
<PreCondition
 Guid="f444f2cc-19a0-451d-9b58-2d4973a19949"
>Kernel.Mode in [ ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.PT, ModeEnum.SN, ModeEnum.RV ]</PreCondition><PreCondition
 Guid="143f1c98-9ffc-4fd1-bcec-a3a97f12cf00"
>Kernel.ActiveFunctions.ManageTrackConditions_SoundHorn()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="36e7dd40-ce3d-4111-98c0-eba98f5676df"
>TrackDescription.TrackConditions.General.TCProfile&lt;- MAP TrackDescription.TrackConditions.General.TCProfile USING X IN TrackDescription.TrackConditions.General.HandleTCPwhenEnteringGivenMode2( X )</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Track condition big metal masses"
 Guid="b4d771b3-74ac-459e-a5eb-b6b56702d49c"
>
<ReqRef
 Id="82f89856-7467-47db-ac7f-909cc5ea8958"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4dee2dda-4150-44f2-a399-c0a86c6866ab"
>
</ReqRef><ReqRef
 Id="4c3a5dfc-859e-4fc5-9f8f-ea5ad72f7452"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="db7525fc-07fe-4d90-aab5-8150d481f64f"
>
</ReqRef><Comment>Reset the big metal masses track conditions when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Reset Track condition big metal masses"
 Guid="0cdd2730-220d-43a3-b823-361092e0d094"
>
<PreConditions>
<PreCondition
 Guid="38d35dfc-8883-4cdc-a7f4-77c1cb8c52a1"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.RV]</PreCondition><PreCondition
 Guid="254e7987-faea-40cf-9935-f097880066cc"
>Kernel.ActiveFunctions.ManageTrackConditions_BigMetalMAsses()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="13ea5c3b-6f88-4d91-80fc-98f5f0170f43"
>TrackDescription.TrackConditions.BigMetalMasses.TCBigMetalMasses &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Unconditional Emergency Stops"
 Guid="bd652071-cf72-437e-9250-d82d4d78f845"
>
<ReqRef
 Id="35f50846-f124-4492-870e-18c02d157c40"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="7b3a13ad-ec0d-4ca6-a91e-78aff14a61b4"
>
</ReqRef><Comment>Delete the unconditional emergency stops when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Unconditional Emergency Stops"
 Guid="e5f78ddd-b93b-46eb-9d08-39618762cc73"
>
<PreConditions>
<PreCondition
 Guid="f4722fc2-5f58-4b39-9f68-e9d2bfc82a3c"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="60e53b39-e375-4fc7-abe3-55ceb1f352fd"
>REMOVE ALL (NOT X.IsConditional) IN BrakeCommands.EmergencyStops</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Conditional Emergency Stops"
 Guid="20aa3965-a886-420e-98fe-50f51feb10b0"
>
<ReqRef
 Id="debd45ce-7263-4c29-88d3-66b44e1cf85b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c56add69-b6cf-4190-a724-72803ebb8265"
>
</ReqRef><Comment>Delete the conditional emergency stops when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Conditional Emergency Stops"
 Guid="51a13fc8-5ec5-49f4-acdd-3588f1584a7b"
>
<PreConditions>
<PreCondition
 Guid="b9e8cd0c-798f-4cc3-b7e6-de5325e002d1"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="ceba2e6e-a03b-4465-a597-fc8a4689abd3"
>REMOVE ALL X.IsConditional IN BrakeCommands.EmergencyStops</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Train Position"
 Guid="ccad0e0f-38a9-4883-a6d4-f3bbc329003e"
>
<ReqRef
 Id="c8d2dd00-d534-48c6-b75f-1319f928f070"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2e7f516e-bdf1-4355-984f-5b83d8b76a3c"
>
</ReqRef><Comment>Invalidate the train position information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Revalidate Train Position"
 Guid="b33a7b1f-675a-4734-a6fc-4e677762d9ce"
>
<PreConditions>
<PreCondition
 Guid="11247934-a5f0-4be0-9b2f-fa8a762643f4"
>Kernel.Mode in [ModeEnum.NP]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="704cf1f6-4a58-495d-a834-ac2c8a519d8d"
>InvalidateInformation(Kernel.TrainPosition.Position)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Train Data"
 Guid="b5ecf93a-97fe-4f39-bca3-8aa51d036e47"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="f9601222-95a6-4a6d-9019-ad5902a41331"
>
</ReqRef><ReqRef
 Id="d73b7418-d053-4ed9-a4a8-f4d09322825b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="99b6e7fe-6ee9-4c0e-baa5-b709aefaf14c"
>
</ReqRef><Comment>Delete or invalidate the train data when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Deleted"
 Guid="7c27df7a-de45-4ba4-b129-933be0f48a46"
>
<Comment>Delete the train data when entering the appropriate modes.</Comment>
<PreConditions>
<PreCondition
 Guid="e4a6977b-91fe-4cd0-8d36-90eac8f70160"
>Kernel.Mode in [ ModeEnum.NP ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="a7fa7c59-c015-4adc-8b14-1b717c6c824f"
>DeleteInformation(TrainData.TrainData)</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To Be Revalidated"
 Guid="a954f9d8-4fd2-49ec-8bb6-01212dec5d15"
>
<Comment>Invalidate the train data when entering the appropriate modes.</Comment>
<PreConditions>
<PreCondition
 Guid="0de5e303-7fbd-41ef-8706-74718074308f"
>Kernel.Mode in [ ModeEnum.SB, ModeEnum.SH ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="15b9edf9-aa53-4327-97e1-77a65bdf3a2b"
>InvalidateInformation(TrainData.TrainData)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle ERTMS/ETCS level"
 Guid="b3f6cdf8-805b-40ce-afef-882f407a489d"
>
<ReqRef
 Id="a0933899-4aac-4bca-b0a7-126455f45bec"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="12283d1e-2ccd-40bb-88d6-13c531c71008"
>
</ReqRef><Comment>Invalidate the ERTMS/ETCS level when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Revalidate ERTMS/ETCS level"
 Guid="1a073791-522b-40a4-95a4-61a35cec9cc4"
>
<PreConditions>
<PreCondition
 Guid="8856296e-c0d8-4dcf-bb36-fa43ced09724"
>Kernel.Mode in [ModeEnum.NP]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="d7a7f3bb-4314-494c-b170-425dbbd1e7e1"
>InvalidateInformation(Kernel.Level)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Name="Handle Table of priority of trackside supported levels"
 Guid="63a1621f-26fe-4c62-8a0e-eeb8b90129f4"
>
<ReqRef
 Id="445e291c-f228-488b-b167-fc56dcea9119"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6aa856f4-d33b-47df-8358-f23593ab9da0"
>
</ReqRef><Comment>Invalidate the table of trackside supported levels when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="Handle Table of priority of trackside supported levels"
 Guid="eb7b44a8-63db-4445-90cc-911b9f85145c"
>
<Comment>The table of priority of trackside supported levels is not stored.</Comment>
<PreConditions>
<PreCondition
 Guid="3c5482c3-43c4-4982-bcef-f4d99a0af23d"
>Kernel.Mode in [ModeEnum.NP]</PreCondition></PreConditions>
<Actions>
</Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Driver ID"
 Guid="68b82cbc-37de-4344-b51e-324b118ff8b5"
>
<ReqRef
 Id="313db158-8af2-41a8-be01-840abeafc4cb"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9bdab45d-ec18-4f0d-9f67-06046072d937"
>
</ReqRef><Comment>Delete or invalidate the driver ID when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Delete Driver ID"
 Guid="d4557c97-67e4-49ec-a53c-0375752f3760"
>
<Comment>Delete the driver ID when entering the appropriate modes.</Comment>
<PreConditions>
<PreCondition
 Guid="ae1b6dc4-f29d-4427-9759-dd821e370a13"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SL]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="5d1c7d89-a32e-4e1a-83d1-97a6cc8483d2"
>DeleteInformation(DriverId)</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="Revalidate Driver ID"
 Guid="5a076260-c80b-462b-ae7f-c7a508d098ba"
>
<Comment>Invalidate the driver ID when entering the appropriate modes.</Comment>
<PreConditions>
<PreCondition
 Guid="dbabb518-a74f-485e-9006-6caf88ce935d"
>Kernel.Mode in [ModeEnum.SB]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="96575d49-f7b5-4e08-b6eb-ac51d8602adb"
>InvalidateInformation(DriverId)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Radio Network ID"
 Guid="6225c74e-c88a-45fe-b5fa-4486908502c1"
>
<ReqRef
 Id="6900d139-2f02-44ee-8f0f-cce71d96a0c2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="854da8ef-b384-4969-a074-808d4101813f"
>
</ReqRef><Comment>The Radio Network ID is always unchanged (since &quot;NR&quot; is considered the same as &quot;U&quot;)</Comment>
<SubRules></SubRules>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle RBC ID/Phone Number"
 Guid="bd82da1f-3440-4082-a81c-007787a891ae"
>
<ReqRef
 Id="0714192d-cf16-4c6e-b23d-7eef75ec7a54"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0f7098b9-dc59-4e3b-bb9c-2ed4d943592f"
>
</ReqRef><Comment>Delete or invalidate the RBC ID and phone number when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Delete RBD ID/Phone Number"
 Guid="b9866d6a-6820-477f-93dc-cdf269f1c41e"
>
<Comment>Delete the RBC ID and phone number when entering the appropriate modes.</Comment>
<PreConditions>
<PreCondition
 Guid="eb9b5a2d-fbbd-4f04-b60f-3ffc04b16cf7"
>Kernel.Mode in [ModeEnum.UN, ModeEnum.SN]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="bde1c19e-6cdd-4d60-a2f5-0fb542d71a64"
>DeleteInformation(EURORADIO.RBCConnection.CurrentRBCConnection().ContactData)</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="Revalidate RBD ID/Phone Number"
 Guid="b86d7b06-2aa8-4478-b280-f6c3ba51bc62"
>
<Comment>Invalidate the RBC ID and phone number when entering the appropriate modes.</Comment>
<PreConditions>
<PreCondition
 Guid="464ec2e6-bdda-4764-a6f7-1335cddbbcb3"
>Kernel.Mode in [ModeEnum.NP]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="a8d4a142-2d90-400d-b31e-410f873efe2d"
>InvalidateInformation(EURORADIO.RBCConnection.CurrentRBCConnection().ContactData)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Train Running Number"
 Guid="16504d29-2bef-4b3e-8279-b9bd7f3ff9dc"
>
<ReqRef
 Id="598c134e-a66e-428c-8548-3584caaa383a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e6d3cb07-bfb1-4a97-93fe-265a6cac1015"
>
</ReqRef><Comment>Delete or invalidate the train running number when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Delete Train Running Number"
 Guid="b079e6e8-ea29-4358-87d1-4d008d95e0c4"
>
<Comment>Delete the train running number when entering the appropriate modes.</Comment>
<PreConditions>
<PreCondition
 Guid="cc220528-be40-4fa6-9bb8-4c03be22d0cf"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SL]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="2d3eba4c-f0a6-409c-a094-625d43a5f39c"
>DeleteInformation(Kernel.TrainRunningNumber)</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="Revalidate Train Running Number"
 Guid="cfa3963d-98e6-442c-babd-7362224b2e37"
>
<Comment>Invalidate the train running number when entering the appropriate modes.</Comment>
<PreConditions>
<PreCondition
 Guid="fe8cb1b0-4c11-4d47-8328-87524dba0c6b"
>Kernel.Mode in [ModeEnum.SB]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="a9857842-f6d2-4a05-8a3a-fe681e2f1f95"
>InvalidateInformation(Kernel.TrainRunningNumber)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Reversing Area Information"
 Guid="cbcd26bc-a7d0-4d9a-a9aa-7bd381816e3a"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b62a916a-2353-45c4-9af0-815c7b2c505a"
>
</ReqRef><ReqRef
 Id="c73c1fbd-5f6c-419c-a6c2-1a8c81cca57b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5a6765ea-a472-4d83-9eef-edd39c29a2d6"
>
</ReqRef><Comment>Delete the reversing area information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="HandleReversingArea"
 Guid="9a81b207-908d-4e21-899e-529161a902b0"
>
<PreConditions>
<PreCondition
 Guid="cc72fb29-7c92-4cfd-9f99-a968f754163d"
>Kernel.Mode in [ ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="320557ce-506b-4c99-ae20-e0d18a68e85e"
>Kernel.TrackDescription.ReversingArea.ReversingAreaProfile &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Reversing Supervision Information"
 Guid="33464c48-567f-4234-8c71-fab79b8e18ff"
>
<ReqRef
 Id="e6346d79-c83a-454c-8f4b-8aab3aa9bf4c"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4eef47ea-cb8b-4c4b-b746-93d39ccdb4f8"
>
</ReqRef><Comment>Delete the reversing supervision information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Reversing Supervision Information"
 Guid="a32fb4d6-20f3-4401-b908-9e74fac4cb19"
>
<PreConditions>
<PreCondition
 Guid="68ad4b4e-a564-4da9-ac82-75e429a4f301"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="b03b0b5b-2998-490b-973a-d6602378f1dc"
>Kernel.TrackDescription.ReversingArea.ReversingSupervisionInformation &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Track Ahead Free Request"
 Guid="1e39850c-2d75-468d-bbc3-f58382fedd81"
>
<ReqRef
 Id="e86eea8d-6ce2-45e8-ad25-09d8795c56b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c0cdb5c9-b8fe-46a5-9fd9-89c6e0e63dfa"
>
</ReqRef><Comment>Delete the track ahead free request when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Track Ahead Free Request"
 Guid="486f9e77-51d0-490d-8ce5-c8e20a088081"
>
<PreConditions>
<PreCondition
 Guid="b5ff1106-c20b-4c42-b3f5-33bc64348ce6"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.FS, ModeEnum.LS, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="4acd25e2-a9d1-40ad-a381-fb9170878b46"
>Kernel.TrackAheadFree.TrackAheadFreeRequest &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Permitted Braking Distance Information"
 Guid="aff11fb8-d3f5-4a16-bda5-704ec341a1c5"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a42aea9e-8650-449c-9564-e6a2e175ab23"
>
</ReqRef><ReqRef
 Id="038f5c97-bc09-46ad-b0e4-501cc3a9893a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a03a0e80-9776-4f8d-924b-beee9b1928ec"
>
</ReqRef><Comment>Delete the permitted braking distance information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="HandlePermittedBrakingDistance"
 Guid="e5b96db3-42b4-454a-9b6c-2de56f58930b"
>
<PreConditions>
<PreCondition
 Guid="559ce49c-0709-4837-91be-158aa7275ed1"
>Kernel.Mode in [ ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="0fd29861-ded9-46ee-8138-16aff5ba6fc2"
>Kernel.TrackDescription.PermittedBrakingDistance.SpeedRestrictionsProfile.SpeedRestrictions &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Level Crossing information"
 Guid="1afb4b5b-f967-4e05-b2e2-3a3bc2e09d3f"
>
<ReqRef
 Id="d0a52281-f85f-49de-bf32-0b13aa98cbae"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a9c44aa4-341b-400e-bbdf-efcf1b6ce0eb"
>
</ReqRef><Comment>Delete the level crossing information when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle Level Crossing information"
 Guid="7fac4e54-c17c-4e3f-a8d2-2c7637a91650"
>
<PreConditions>
<PreCondition
 Guid="2377d03e-9f12-4cb3-857f-2109db3da514"
>Kernel.Mode in [ ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.SR, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="e02c4388-b1b1-4dfc-b153-f8398d113f46"
>Kernel.LX.MRSPLevelCrossings &lt;- []</Action><Action
 Guid="12d0db4c-4228-49f8-91f9-e61b431bb650"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle RBC/RIU System Version"
 Guid="ae7a09da-7bd1-4c19-aa06-684b1e4c1d16"
>
<ReqRef
 Id="a86bc1e3-8356-4364-9b43-1e810d6a02d9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ae17120b-df61-4487-b2e6-35ebb32b7fd7"
>
</ReqRef><Comment>Delete the RBC/RIU system version when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle RBC/RIU System Version"
 Guid="6d1d3641-fa31-41ed-87ea-5e5f748a1f37"
>
<PreConditions>
<PreCondition
 Guid="c1bbdf25-1646-4849-bc18-5507d385edfc"
>Kernel.Mode in [ModeEnum.NP]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="f4f285cf-87f7-46c6-bd07-0386165d3630"
>DeleteInformation(EURORADIO.RBCConnection.CurrentRBCConnection().SessionManagementData.SystemVersion)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Operated System Version"
 Guid="25fa7716-cba0-45d5-b8a2-3365bb52b21f"
>
<ReqRef
 Id="52a479a3-f04f-46f9-8612-a15ffef7a0c1"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e9ab191a-f740-49c0-9c26-9b415bb8c39d"
>
</ReqRef><Comment>The Operated System Version is always unchanged (since &quot;NR&quot; is considered the same as &quot;U&quot;)</Comment>
<SubRules></SubRules>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Virtual Balise Covers"
 Guid="b5c4f0d5-1e46-4ff7-9cb1-8a617110c3db"
>
<ReqRef
 Id="ee6101f8-d147-4d16-a0a2-05f7e6d3a67c"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ca918b65-6cc8-4045-9224-1a04c269d98a"
>
</ReqRef><Comment>The Virtual Balise Covers are always unchanged (since &quot;NR&quot; is considered the same as &quot;U&quot;)</Comment>
<SubRules></SubRules>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Language used to display information to the driver"
 Guid="ab68f8e2-c1bb-47aa-91ec-9d9562c9b20a"
>
<ReqRef
 Id="d5b31d88-9a3f-4db7-9880-07e29a36fa4c"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="7618a7d8-b3bb-47aa-8ae4-bc6ce86933c7"
>
</ReqRef><Comment>The Language used to display information to the driver is always unchanged (since &quot;NR&quot; is considered the same as &quot;U&quot;)</Comment>
<SubRules></SubRules>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle Generic LS function marker"
 Guid="3feff474-8adc-4a4e-8f94-0cbe6b5a5358"
>
<ReqRef
 Id="40505161-3a22-4e58-9dff-daeb7f800422"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="52d2aa41-e615-4cb1-a149-d0ca20e9fae0"
>
</ReqRef><Comment>The Generic LS function marker is always unchanged (since &quot;NR&quot; is considered the same as &quot;U&quot;)</Comment>
<SubRules></SubRules>
</Rule><Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Handle LSSMA display toggle on order"
 Guid="895d0366-c883-49cb-87a8-f3cfce1f98e8"
>
<ReqRef
 Id="24a0e3fe-f6b7-44ba-8549-e210cd092129"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="09b947da-8cc7-448b-8118-6a577e32fee5"
>
</ReqRef><Comment>Delete the LSSMA display toggle &quot;On&quot; order when entering the appropriate modes.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Handle LSSMA display toggle on order"
 Guid="3b732d68-6b98-49e2-943f-26e38ba6dc3a"
>
<PreConditions>
<PreCondition
 Guid="fc92c4b9-3336-4ff3-ad26-f920e41feffb"
>Kernel.Mode in [ModeEnum.NP, ModeEnum.SB, ModeEnum.PS, ModeEnum.SH, ModeEnum.FS, ModeEnum.SR, ModeEnum.OS, ModeEnum.SL, ModeEnum.NL, ModeEnum.UN, ModeEnum.TR, ModeEnum.SN, ModeEnum.RV]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="48fe38ec-4627-4d11-b485-9a07d37ce361"
>LimitedSupervision.LSSMADisplayTimeOut &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="1"
 Y="61"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="HandleModeRelatedEBCommand"
 Guid="1f9b917e-308b-4ca3-b7e5-59418073c675"
>
<ReqRef
 Id="4ed6e0bf-f428-48af-a212-af1983b66f2b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2bd0f56f-0ed6-4775-b666-333fbd14ac26"
>
</ReqRef><ReqRef
 Id="cb89fa5e-3586-488f-81d3-0b25fac37ed3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a5d488ec-cb54-4eb3-b380-2292d6fd66c4"
>
</ReqRef><ReqRef
 Id="c8a247ef-0cc1-4086-9306-42e2ff40d35d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="40f14783-9aed-4209-b454-3cee68e8df91"
>
</ReqRef><ReqRef
 Id="cbe34815-cb07-47d0-aa70-8e503a0dd8ac"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0af9de85-aa20-471e-9918-61d522159b84"
>
</ReqRef><ReqRef
 Id="fcee3944-2911-422c-babf-349b36eaa478"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c1e10f41-d526-42b2-be4e-cef0d794a337"
>
</ReqRef><ReqRef
 Id="88305e66-3a01-4328-8957-6bb64a87e149"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6e9f1790-48fd-46e4-a188-61e07c62dc28"
>
</ReqRef><ReqRef
 Id="8aacc5c1-b1bc-4b80-b068-82d6acb6bc59"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="92624ee3-5211-4e6e-a9c2-8fe2696cae8e"
>
</ReqRef><Comment>Applies or releases the emergency brake due to the mode; in NP, SF and TR modes the emergency brake must remain applied at all times.</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Handle the brake command"
 Guid="792bc9d0-ff68-4941-b2c6-65d4ba175fed"
>
<ReqRef
 Id="cb89fa5e-3586-488f-81d3-0b25fac37ed3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3207a57b-9cfe-43f1-bff1-da904e2956b9"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Apply the emergency brake"
 Guid="a3e996d0-f51e-4b46-bea7-8a1ec465ffb6"
>
<Comment>If the emergency brake must remain commanded at all times in the current mode, command the emergency brake.</Comment>
<PreConditions>
<PreCondition
 Guid="72fcd004-feed-48df-98a5-1c7f6e063b22"
>Kernel.ActiveFunctions.CommandEmergencyBrake()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="699a167b-bff4-4b30-bfbb-1344a69dc3f5"
>Kernel.BrakeCommands.CommandEmergencyBrake(BrakeCommands.BrakeReasonEnum.PermanentCommandInCurrentMode)</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="Release the emergency brake"
 Guid="9f3c2be5-f9c9-41a0-860e-dda3f44438b0"
>
<Comment>Otherwise, release the emergency brake.</Comment>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="77d68901-80f2-4918-9202-a85631c54be2"
>Kernel.BrakeCommands.ReleaseEBCommand(BrakeCommands.BrakeReasonEnum.PermanentCommandInCurrentMode)</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure></Procedures>
</NameSpace>
