<NameSpace
 X="250"
 Y="10"
 Width="100"
 Height="50"
 Name="SafeRadioConnection"
 Guid="42c042f2-132f-4540-a6fd-849aacf7ce86"
>
<Comment>Contains the functionalities to hadle the safe radio connection layer of the RBCConnection.</Comment>
<NameSpaces>
</NameSpaces>
<Structures>
<Structure
 Default=""
 X="10"
 Y="10"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SafeRadioConnectionStruct"
 Guid="2848b172-4ada-4de7-995a-4608082c3c0d"
>
<ReqRef
 Id="5b9e9eb3-ffa4-47c2-a6f5-9fa6efc58ffe"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9de8e80d-4d67-4008-b3ab-52a4f92c62af"
>
</ReqRef><ReqRef
 Id="e094e23a-bd94-4440-8632-705782494f35"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="90285b01-5908-4076-9b26-8ad0cd2bfad7"
>
</ReqRef><ReqRef
 Id="1ead58b3-f05d-46bd-b3f8-bc0a16010cdd"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="111f00c1-386d-466b-92d6-30e0dded2c23"
>
</ReqRef><ReqRef
 Id="308624ea-ea91-4451-b8c4-1cfbc9094f8e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="533ee607-02d4-4fcf-8d7f-b5576a3fe5f1"
>
</ReqRef><ReqRef
 Id="cd18a937-9dc2-456d-bee7-a61bcd564e32"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2b3dac79-eb5c-4d0a-a25c-84d5ac23cbf7"
>
</ReqRef><ReqRef
 Id="484b41b4-a894-43b4-9ee4-a7227ddfd3aa"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="18ffe5df-db77-4227-9111-82730d9fa68e"
>
</ReqRef><ReqRef
 Id="dc7b33b5-d923-42f3-be12-580edb475353"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="dc4ed094-5654-4282-b18c-76a08abf00e2"
>
</ReqRef><ReqRef
 Id="4d7758a5-c99b-4537-8da4-a51b99dafd40"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="1d6a51bc-a46e-4a93-b1ef-f103f9b6c50b"
>
</ReqRef><ReqRef
 Id="f9f81d1e-22c3-429b-b29b-0c828790dce4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3786a1c2-ffb1-4add-97dd-1ae916106279"
>
</ReqRef><ReqRef
 Id="f9f81d1e-22c3-429b-b29b-0c828790dce4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a501b58f-68a5-4422-98b4-e3e60d13e5a5"
>
</ReqRef><ReqRef
 Id="fbaaf410-a59f-40cd-b972-aa1e84116831"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="11f80c51-806e-4b07-97c2-1b267f88050e"
>
</ReqRef><ReqRef
 Id="e36dd5fc-81ea-4253-8535-4e5b4afd1b54"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c20a39cc-32e6-40da-a3e3-983a0312e6a1"
>
</ReqRef><ReqRef
 Id="752d0832-7cfa-4424-96f7-d3fbb447a20e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="798eac83-51b0-4451-adb8-8c247ae0a9c4"
>
</ReqRef><Comment>Structure to handle the safe radio connection.</Comment>
<Procedures>
<Procedure
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="SendConnectionRequest"
 Guid="fe3dce69-5d7a-4c09-8242-0b7a83390736"
>
<ReqRef
 Id="ac42de65-1111-47f1-904b-907bce323de2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3cc3cb71-07c6-4c52-b9c2-0d3564777517"
>
</ReqRef><Comment>Proceduer in charge of sending a SafaradioConnection connecting request and 
starting the IndicationSatus at first attempt.</Comment>
<Rules>
<Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Send connection request"
 Guid="bf6cc2ff-ecdf-4c48-8314-b7b9fe1d9dee"
>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Send connection request"
 Guid="1fe83ea3-9397-4d1a-baaa-173af67c62bb"
>
<Comment>Send a connection request and start the timer if needed</Comment>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="5d74f73c-c3dd-4bce-a841-aafad6da5795"
>ConnectionRequestIsSent &lt;- True</Action></Actions>
<SubRules>
<Rule
 Priority="Processing"
 X="0"
 Y="0"
 Implemented="TRUE"
 Name="Start timer at the first connection request"
 Guid="da6dfe9f-1d8e-4cef-a17d-65610260ce5f"
>
<Comment>Start the timer if it was not already started</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Start timer"
 Guid="29ef1598-44e9-4268-bc47-b8a8b1253c00"
>
<PreConditions>
<PreCondition
 Guid="fa8f4f6d-978b-4ddf-b1f0-7665d50df522"
>NOT Timer.Started(ConnectionStatusTimer)</PreCondition></PreConditions>
<Actions>
<Action
 Guid="9324aa93-b1f3-410e-a0f3-beee9a72a25e"
>Timer.StartTimer(ConnectionStatusTimer)</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure></Procedures>
<StructureElement
 TypeName="BaseTypes.Time"
 Default="0.0"
 Mode="Internal"
 Implemented="TRUE"
 Name="LastRequestTime"
 Guid="40e6ba54-d9c4-498d-88f2-2ffb1157f4aa"
>
<ReqRef
 Id="4d7758a5-c99b-4537-8da4-a51b99dafd40"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="bab219e0-b46d-46fd-be2a-82ffdd8f005b"
>
</ReqRef><ReqRef
 Id="f9f81d1e-22c3-429b-b29b-0c828790dce4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="767ac768-3af2-4dda-a34e-567d3ec88d66"
>
</ReqRef><ReqRef
 Id="dc7b33b5-d923-42f3-be12-580edb475353"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ee51afb8-0e5a-4f32-8ea4-caafa9b45e04"
>
</ReqRef><Comment>Indicates the last time when a request to establish or terminate the communication session with the RBC was sent.</Comment>
</StructureElement><StructureElement
 TypeName="Integer"
 Default="0"
 Mode="Internal"
 Implemented="TRUE"
 Name="NumberOfSentRequests"
 Guid="03f193b2-8aea-4f04-b805-1de34a4398f8"
>
<ReqRef
 Id="f9f81d1e-22c3-429b-b29b-0c828790dce4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="aac10df8-63e1-42d5-9335-efaf72d6b142"
>
</ReqRef><ReqRef
 Id="ac96ab5d-7682-43e6-a576-f8a2ada8b003"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0e929f67-7a23-4478-9582-e918dbc1f7e5"
>
</ReqRef><Comment>Number of sent requests, that can be:
- establishing of  a safe radio connection
- termination the communication session</Comment>
</StructureElement><StructureElement
 TypeName="SpecialCaseSessionEstablishmentReasonEnum"
 Default="SpecialCaseSessionEstablishmentReasonEnum.DoNotEstablish"
 Mode="Internal"
 Implemented="TRUE"
 Name="SpecialCaseSessionEstablishmentReason"
 Guid="19025708-2326-463f-8934-0ac263dc7feb"
>
<ReqRef
 Id="e36dd5fc-81ea-4253-8535-4e5b4afd1b54"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6a6e041f-9473-4456-b58f-a90950e00c48"
>
</ReqRef><ReqRef
 Id="752d0832-7cfa-4424-96f7-d3fbb447a20e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d0b5a6fb-c17a-4d43-b51c-16795c394a5c"
>
</ReqRef><ReqRef
 Id="fbaaf410-a59f-40cd-b972-aa1e84116831"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="565c8c6d-f9a7-4f58-a7f2-16a62ed79755"
>
</ReqRef><Comment>If a communication session has to be established, this variable indicates why it has to be estabilshed.</Comment>
</StructureElement><StructureElement
 TypeName="Boolean"
 Default="False"
 Mode="InOut"
 Implemented="TRUE"
 Name="ConnectionIsEstablished"
 Guid="1c04490a-d03a-492b-81ec-bbf9c60fd7db"
>
<ReqRef
 Id="1ead58b3-f05d-46bd-b3f8-bc0a16010cdd"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0f940401-02b0-4101-bebd-18261582bd51"
>
</ReqRef><Comment>Set to true if the safe radio connection is set-up.</Comment>
</StructureElement><StructureElement
 TypeName="Contact.ContactActionEnum"
 Default="Contact.ContactActionEnum.Establish"
 Mode="Outgoing"
 Implemented="TRUE"
 Name="Action"
 Guid="ccb009cb-f504-4789-b154-dcf7169abe80"
>
<ReqRef
 Id="5b9e9eb3-ffa4-47c2-a6f5-9fa6efc58ffe"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="cc4d43f5-fdaf-432f-b1ce-5ce2683a1250"
>
</ReqRef><ReqRef
 Id="e094e23a-bd94-4440-8632-705782494f35"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9f747573-7ad6-42a6-8ce9-98b7458029d7"
>
</ReqRef><Comment>Indicates if the safe radio connection has to be established or released.</Comment>
</StructureElement><StructureElement
 TypeName="Boolean"
 Default="False"
 Mode="Incoming"
 Implemented="TRUE"
 Name="ConnectionRequestIsReceived"
 Guid="a6d33ff5-d083-45be-83a3-68ff4212ed87"
>
<ReqRef
 Id="484b41b4-a894-43b4-9ee4-a7227ddfd3aa"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ae52e345-9015-4eda-b625-9434ac9440d0"
>
</ReqRef><Comment>This variable is set to True when the on-board requests the establishment of communication session.</Comment>
</StructureElement><StructureElement
 TypeName="Boolean"
 Default="Boolean.False"
 Mode="Outgoing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="ConnectionRequestIsSent"
 Guid="3da0a1c7-ca89-43ab-9597-09b7adf15b15"
>
<Comment>Set to True when a request to establish a safe radio connection has to be sent.</Comment>
</StructureElement><StructureElement
 TypeName="Timer.TimerStruct"
 Default="Timer.TimerStruct{
StartTime =&gt; BaseTypes.Time.NA,
Duration =&gt; 45.0
}"
 Mode="Internal"
 Implemented="TRUE"
 Name="ConnectionStatusTimer"
 Guid="dde927cb-e705-4f33-9bd8-c1e75b898f0b"
>
<ReqRef
 Id="cd18a937-9dc2-456d-bee7-a61bcd564e32"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0f517498-7c8f-4bce-b0fc-67198a03eb94"
>
</ReqRef><ReqRef
 Id="ad234759-9dd4-4ff4-9b9e-764c96f7b0cb"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="526f4660-93e6-4b76-8172-dcbf4813ca75"
>
</ReqRef><Comment>&quot;Connection status&quot; timer for safe radio connection indication.</Comment>
</StructureElement></Structure></Structures>
</NameSpace>
