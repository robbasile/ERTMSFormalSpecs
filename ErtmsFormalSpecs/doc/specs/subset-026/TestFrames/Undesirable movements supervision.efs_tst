<Frame
 CycleDuration="0.1"
 Name="Undesirable movements supervision"
 Guid="2642b6b9-4490-4bde-9b25-9e810ef03306"
>
<SubSequences>
<SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Reverse movement protection"
 Guid="cbae7868-1a70-411e-936c-308a6f4667e3"
>
<TestCases>
<TestCase
 Name="Full reverse protection sequence"
 Guid="27456b31-5e39-4467-908c-2cf177b547bf"
>
<ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a99e61fc-b66d-4bd6-b5ad-ec3337ef5142"
>
</ReqRef><ReqRef
 Id="564c8eaf-9eff-4fcc-a1ab-b4c80a278e54"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="af758cbc-b8b1-4afd-a55b-c91be37a34dc"
>
</ReqRef><ReqRef
 Id="cf125334-c2c0-4fcc-91c8-a060267517e1"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6db3e860-e389-489e-b990-c340d14c508f"
>
</ReqRef><ReqRef
 Id="de3edf27-2461-48e2-9737-d2e812684d28"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="62c6ba22-9767-4bd1-96ae-69e3a05aac72"
>
</ReqRef><ReqRef
 Id="3dcd2c27-a8e0-48b8-93e4-915c7943633f"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="192588b9-93a2-4112-ac88-e926aee3146c"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Setup"
 Guid="472e61ca-433a-4214-8434-f73478404491"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="54e67b3e-1379-41b1-8c02-a216fcf8c46f"
>
<Actions>
<Action
 Guid="2d8ff9d0-3e6e-4409-87a6-3d5c499cfe86"
>Testing.InitializeTestEnvironment
(
    aTrainPosition =&gt; 100.0,
    aMode =&gt; ModeEnum.FS
)</Action><Action
 Guid="104ed018-c2e4-4170-9322-0c5b4ef00013"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="53720474-c786-4f77-a0fe-71c162ef2a51"
>BTM.PreviousBaliseGroups &lt;- []</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="7c234b61-ed7f-4616-a75f-ecd38a97f52c"
>Kernel.UndesirableMovement.ReverseMovementReferencePosition == Odometry.NominalDistance</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Reverse movement detected and BTM refused"
 Guid="2f01c654-f7ef-4e57-9947-f3533efd6137"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="5f3bb0b7-0b51-4d93-99bc-709ce69b035b"
>
<Actions>
<Action
 Guid="3641c9b8-2083-4da6-bb8e-61c631e596df"
>Odometry.NominalDistance &lt;- Odometry.NominalDistance - 0.5 * Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup</Action><Action
 Guid="7c5099a6-7664-4ce6-bea6-c8f97be482a6"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="20370cef-006e-49b3-b29d-57d011caa603"
>BTM.Message.SystemVersion2  &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; 32,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; 0,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; 4,
    NID_C =&gt; 140,
    NID_BG =&gt; 2124,
    Q_LINK =&gt; Messages.Q_LINK.Linked,
    Sequence1 =&gt; 
    [
        
    ]
}</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="fe89aa9e-44e6-492c-989d-a94c5606ae8a"
>Kernel.UndesirableMovement.ReverseMovementReferencePosition == 100.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f6460c90-5211-408b-b093-f7db57cf55c4"
>NOT Kernel.UndesirableMovement.ReverseDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="571de55d-7633-47a1-9049-60e397859517"
>BTM.CurrentBaliseGroup == []</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Keep going in the right direction"
 Guid="3239561e-3e6e-4136-8098-b7c51aeeafdc"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="d31266c4-1fea-473c-a7be-52c2d56ca162"
>
<Actions>
<Action
 Guid="a221fcca-6e3a-440a-a3d3-deefc46865c6"
>Odometry.NominalDistance &lt;- 110.0</Action><Action
 Guid="4e86aaad-9e1a-4e87-ae79-e5ad14c954a0"
>Odometry.EstimatedSpeed &lt;- 1.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c5aab527-f224-49cb-bdb2-fa2530f3cb11"
>Kernel.UndesirableMovement.ReverseMovementReferencePosition == Odometry.NominalDistance</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="287121c6-a9e1-4b02-8223-a84a16fe210d"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.ReverseMovementProtection</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Reverse movement detected - Apply brakes"
 Guid="8af00f4a-fc22-467f-b246-e4812a7a6d09"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="24d07d04-b0c4-4409-81de-b94fe9968dfb"
>
<Actions>
<Action
 Guid="68e06d97-40e8-4db3-8eb7-d9e21c42199d"
>Odometry.NominalDistance &lt;- Odometry.NominalDistance - 1.5 * Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup</Action><Action
 Guid="9094f542-724c-4398-a35a-d14d146d3a6a"
>Odometry.EstimatedSpeed &lt;- 1.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="0638c315-b5d2-4c4f-ac0d-4142b2c3695e"
>Kernel.UndesirableMovement.ReverseMovementReferencePosition == 110.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="07c81b6d-f478-4108-8a0d-bba4063fa55a"
>Kernel.UndesirableMovement.ReverseDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="2471554d-ee88-4f95-b6f8-24f02c7f4270"
>THERE_IS X IN 
DMI.MasterDMI().Out_BrakeReason.Reasons | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.ReverseMovementProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="d76d15ef-14cf-4b27-8e32-02fe59b98c17"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.ReverseMovementProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="a7a08ce9-ff81-4105-b40c-f06840a10b87"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == True</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="9d769b26-ca2f-42ae-8a78-cf1e422d6f43"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Ask for acknowledgement when at standstill"
 Guid="3f9e2447-9fca-4c94-b7aa-ee086998daef"
>
<ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="55ea65e9-8e9d-41a4-a7fe-6628c5af30df"
>
</ReqRef><ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="fd9cf419-0cfc-4640-b40f-d0fdf32a7f9c"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="Movement"
 Guid="ed2bb9a8-6df6-491b-8a97-f83942b3b4b9"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="9644ed20-fbb4-4d2d-8a0e-0b789e928244"
>DMI.MasterDMI().In_AcknForReverseMovementProtection.InputInformation.RequestStatus == RequestEnum.Disabled AND FORALL X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type != DMI.IN.Acknowledgements.AckTypeEnum.ReverseMovementProtection</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Standstill"
 Guid="0f9a4c65-dc9b-47c5-bc01-2a8bc127b503"
>
<Actions>
<Action
 Guid="ccdbab7c-aa80-4ed3-bdb3-e42bb6b3fbe8"
>Odometry.EstimatedSpeed &lt;- 0.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="312dc7a2-2168-4023-85c6-b13624ee2379"
>DMI.MasterDMI().In_AcknForReverseMovementProtection.InputInformation.RequestStatus != RequestEnum.Disabled OR THERE_IS X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type == DMI.IN.Acknowledgements.AckTypeEnum.ReverseMovementProtection</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Release brake when acknowledgement is received"
 Guid="1c7642f8-8954-4674-b877-a687f543dd10"
>
<ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="cd28b4ce-5409-4f3a-8516-e0f280224a66"
>
</ReqRef><ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a4438f4e-86df-42d2-93b2-07a5577a69b4"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="No acknowledgement"
 Guid="64baf738-32ab-44e1-b112-a8ab7894b24b"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="b6b65ea5-eb67-462b-b364-7c66e2e57b27"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.ReverseMovementProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="82e901e5-44bd-44ee-a23f-4144093c6b38"
>Kernel.UndesirableMovement.ReverseMovementReferencePosition == 110.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="696d4231-a166-4f99-9c9c-2a4d97481d5d"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus == RequestEnum.Request</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="First acknowledgement received"
 Guid="6ec8cb4f-b6e5-4ba5-b06e-605faaf589fb"
>
<Actions>
<Action
 Guid="1e6711cd-43c2-4d85-b92f-3fb0fa25ec39"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus &lt;- RequestEnum.Response</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="e76e5ac2-8e4e-4e53-8155-ad815de795d0"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Second acknowledgement requested"
 Guid="39b52a11-0129-4091-8a2c-6cd9142ea71a"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="d40d2fa9-c335-497d-8419-9d90b9d714e1"
>DMI.MasterDMI().In_AcknForReverseMovementProtection.InputInformation.RequestStatus == RequestEnum.Request</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Second acknowledgement received"
 Guid="8d1258d8-6749-4813-bc63-d9df8ee93f60"
>
<Actions>
<Action
 Guid="8eb9b7d3-2587-48d9-aaed-36708a3a69ef"
>DMI.MasterDMI().In_AcknForReverseMovementProtection.InputInformation.RequestStatus &lt;- RequestEnum.Response</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="e36e4bdb-b53f-452e-8697-ccb897a66de1"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="91437277-734a-4211-898a-f0bb63b7370e"
>Kernel.UndesirableMovement.ReverseMovementReferencePosition == Odometry.NominalDistance</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="0b1c88cc-1f4c-473a-8432-a022f72aa7d1"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.ReverseMovementProtection</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Roll away protection"
 Guid="be0f765a-3c45-457b-b5bd-57ded89cc227"
>
<TestCases>
<TestCase
 Name="Roll away protection sequence: reverse movement while TIU.Controller is forward"
 Guid="a1dafb43-38af-4412-b95f-18b598c38641"
>
<ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8b9e06bd-c22b-4f01-b0e8-9cbc53334b2a"
>
</ReqRef><ReqRef
 Id="507e945d-af5e-4721-af02-3f87008198c9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="78676b6a-4b2d-426b-9cd7-71eaeaaa4f47"
>
</ReqRef><ReqRef
 Id="1058129e-e8d2-4dda-992f-3f44ebb4a754"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c9171c84-0039-475f-ae5c-dc4a6ed47489"
>
</ReqRef><ReqRef
 Id="5b878cb7-bb66-41bb-96dc-6089f53c8f01"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="59aa2a0c-bb48-42d1-b54f-e8b2101dee0d"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Setup"
 Guid="8a573088-1805-4d97-bf9c-f952fa150df7"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="ce25b7c8-bfb8-440e-a9da-8d1ea36d58b6"
>
<Actions>
<Action
 Guid="f9c33627-25c5-4660-ac62-4ed2bb64e11e"
>Testing.InitializeTestEnvironment
(
    aTrainPosition =&gt; 100.0,
    aMode =&gt; ModeEnum.FS
)</Action><Action
 Guid="ec8fb30c-2482-469b-a956-b4feed7d8374"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="5c82b2f6-4972-4f1a-a773-b35966b69879"
>TIU.DirectionControllerInformation &lt;- TIU.DirectionControllerEnum.Forward</Action><Action
 Guid="364996a4-196e-46b2-9b19-031aabcb2163"
>DMI.IN.Acknowledgements.Acknowledgements &lt;- []</Action><Action
 Guid="d6d783a5-1080-4acd-9196-40ecd96ecbde"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus &lt;- Default.RequestEnum.Disabled</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="184ddb1e-4a0b-4f07-8cae-1d09724610b5"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == Odometry.NominalDistance</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Reverse movement detected"
 Guid="f864c57d-0c99-47b2-837a-8e21763a81b6"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="84302f28-dbc8-4238-a16b-a4bb0a1e5133"
>
<Actions>
<Action
 Guid="829d387f-8d13-4ad1-a45c-20233d3f161d"
>Odometry.NominalDistance &lt;- Odometry.NominalDistance - 0.5 * Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup</Action><Action
 Guid="c77adcc6-2f63-4b41-8f8f-d6af0740b924"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="720ac13e-2c08-497b-979c-0c5ee349a7b4"
>Kernel.Mode &lt;- Default.ModeEnum.RV</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="7f6158f3-ffce-4812-9a5d-c78140a60e88"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 100.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="58f423b4-509b-4a7a-9c8a-95efa2e882c0"
>NOT Kernel.UndesirableMovement.RollAwayDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="48e6b6c3-b5b2-4757-aa06-558d4b33e79a"
>Kernel.UndesirableMovement.RollAwayMovementDetected(Kernel.UndesirableMovement.RollAwayMovementReferencePosition)</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Keep going in the right direction"
 Guid="3493c9e9-c79d-4075-abaf-8c7c1e763110"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="0d6b3f59-71b2-4f67-8d3e-69c5255b4281"
>
<Actions>
<Action
 Guid="31a4f60b-d1cb-4d84-a5d0-bb10defbb742"
>Odometry.NominalDistance &lt;- 110.0</Action><Action
 Guid="8e9fd576-7b32-4dec-bb99-b27bf3e37e5f"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="2ff8a4d2-4f73-456f-bf85-c0959a219bf7"
>Kernel.Mode &lt;- Default.ModeEnum.SR</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="6bac8816-b684-41fe-beec-809bf8142fbd"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == Odometry.NominalDistance</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="07362b37-d7e6-41d8-811e-479d221f1837"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="28b6780a-1884-495f-ba4e-2786fdaa838f"
>NOT Kernel.UndesirableMovement.RollAwayMovementDetected(Kernel.UndesirableMovement.RollAwayMovementReferencePosition)</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Reverse movement detected - Apply brakes"
 Guid="f3275dd8-5247-4bac-b397-ac021b21fc5f"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="5d0fc7f5-3974-41f4-aac8-46f80c5ddce3"
>
<Actions>
<Action
 Guid="d7976220-bfa1-489a-8efd-3522d8dcf0f0"
>Odometry.NominalDistance &lt;- Odometry.NominalDistance - 1.5 * Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup</Action><Action
 Guid="b330710b-2697-43f3-a173-be9e70fd4f18"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="6f7973e2-87dd-4475-8306-7fefe6fb71dd"
>Kernel.Mode &lt;- Default.ModeEnum.RV</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="90c6c7dd-1a83-4d40-b375-717088fed4d6"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 110.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="887b5905-34d3-4045-858c-c044d9582bd9"
>Kernel.UndesirableMovement.RollAwayDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c211cc08-da08-467b-89cb-98268abbea14"
>THERE_IS X IN 
DMI.MasterDMI().Out_BrakeReason.Reasons | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="8d8d3b3b-bda5-444c-ade6-e742626f31f6"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="1d5872a6-86c6-4f11-859b-251049784586"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == True</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Ask for acknowledgement when at standstill"
 Guid="42bb60a9-9a50-4804-9b4b-d72dea9d5507"
>
<ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="92442a16-e24d-4115-839d-570e31a994d1"
>
</ReqRef><ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="49d1b4f6-8a2f-452f-9f87-90444dd8658e"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="Movement"
 Guid="e0d4d2db-7192-4f8b-9e67-5ecd9bf74a0a"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="37a01e6e-4a64-49d3-908b-96bfd595fdb1"
>FORALL X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type != DMI.IN.Acknowledgements.AckTypeEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="844403c2-bed5-484a-ac90-346232116e7f"
>NOT Odometry.TrainIsAtStandstill()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="a48e6420-5748-44a7-91a1-83812f95ee20"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus == RequestEnum.Disabled</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Standstill"
 Guid="df85e304-cc05-490b-927f-cd2f83109805"
>
<Actions>
<Action
 Guid="bda15c1c-8830-4356-b8df-6c2981ef86a0"
>Odometry.EstimatedSpeed &lt;- 0.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="b216fd3d-4112-47d1-8a4a-df061be1f1b4"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus != RequestEnum.Disabled OR THERE_IS X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type == DMI.IN.Acknowledgements.AckTypeEnum.RollAwayProtection</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Release brake when acknowledgement is received"
 Guid="eace7520-9690-423f-8d8f-ae3cb082451c"
>
<ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e89bef33-e1a0-4a0d-9e1e-ec1ac721aedc"
>
</ReqRef><ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6635d236-634d-46e3-bbe9-772020858602"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="No acknowledgement"
 Guid="c72df5fb-f5cd-4c02-b291-5ede7df00f35"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="9ac3a384-773f-4fd1-a9f8-3e6e4576f215"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="7325f478-7fd5-4e4c-aa0c-a2fa80ca74e5"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 110.0</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Acknowledgement received"
 Guid="bd9e92a3-0921-48b5-b531-74b3ef6bd877"
>
<Actions>
<Action
 Guid="de0cb55d-051c-4319-9558-cb0ae8a74241"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus &lt;- RequestEnum.Response</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="260db96f-158e-4120-95e2-39a0312ddc81"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f05cb685-2db3-49d6-9824-b2d1c44e4c6d"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="800a213d-5351-41b2-aeac-e31168ac1a20"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition== Odometry.NominalDistance</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase><TestCase
 Name="Roll away protection sequence: forward movement while TIU.Controller is backward"
 Guid="a6f2407a-26d1-4e54-9952-8399daa1a5c5"
>
<ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="643a6207-2daf-4241-b96b-eb6d67a417de"
>
</ReqRef><ReqRef
 Id="507e945d-af5e-4721-af02-3f87008198c9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="7951b138-8e78-4e4f-8495-cdcbecef80d5"
>
</ReqRef><ReqRef
 Id="1058129e-e8d2-4dda-992f-3f44ebb4a754"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="58c20c1e-99fd-4bac-b99f-c3e24e9c1b84"
>
</ReqRef><ReqRef
 Id="5b878cb7-bb66-41bb-96dc-6089f53c8f01"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="077e3919-11f0-4e6d-a60e-32dbc06e136b"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Setup"
 Guid="15d81561-ad2c-47e8-9071-d3ff8c2c54b5"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="5f980414-bf11-4aa8-b3b3-f26210836d31"
>
<Actions>
<Action
 Guid="94f5ee29-2354-4d9e-8de9-8989f50a519a"
>Testing.InitializeTestEnvironment
(
    aTrainPosition =&gt; 100.0,
    aMode =&gt; ModeEnum.FS
)</Action><Action
 Guid="0740bcce-081b-488a-80ff-ee080bcb8c69"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="7c55fb43-583f-4b00-a552-ad255a13b738"
>TIU.DirectionControllerInformation &lt;- TIU.DirectionControllerEnum.Backward</Action><Action
 Guid="cf00849d-298d-4025-9bff-b2988bb5fa91"
>DMI.IN.Acknowledgements.Acknowledgements &lt;- []</Action><Action
 Guid="4a8745d2-c146-4333-b4f8-e15c08ac3d8e"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus &lt;- Default.RequestEnum.Disabled</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="b001e685-a9ff-4d98-bfa4-3ed2648e3701"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == Odometry.NominalDistance</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Forward movement detected"
 Guid="503d02d4-dd62-4e70-b49c-c957d8cb11dc"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="943c18f6-be06-4f8c-bb3d-3f5ea9e4fa17"
>
<Actions>
<Action
 Guid="0315c278-b101-4bd7-8d88-aa5ea54a4696"
>Odometry.NominalDistance &lt;- Odometry.NominalDistance + 0.5 * Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup</Action><Action
 Guid="be8fa253-0313-41e3-b148-6f3b5258723e"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="90a46bbd-5587-46f8-be57-90ee5150bee9"
>Kernel.Mode &lt;- Default.ModeEnum.SR</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="b86ddcfe-6e07-4302-9717-6eca00475c8d"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 100.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="8e1aa437-bb85-4332-a645-440f9694ee32"
>NOT Kernel.UndesirableMovement.RollAwayDistanceExceeded()</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Keep going in the right direction"
 Guid="e0086650-8fbb-468f-b170-05b481c97647"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="8b1ba9f4-253e-403d-826d-becdd74d42f7"
>
<Actions>
<Action
 Guid="63654952-40fc-4c9d-9870-df4774c3b74e"
>Odometry.NominalDistance &lt;- 95.0</Action><Action
 Guid="17b968d8-6d64-48a5-b0dd-6ddbd0249ee2"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="6a44340d-3fc0-4dc5-9ac3-20af2068f9bc"
>Kernel.Mode &lt;- Default.ModeEnum.RV</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="43e3ba82-35b3-413a-8ce1-595264097891"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == Odometry.NominalDistance</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="3851f207-456c-4cec-a52b-baf3ae3b2b4e"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Forward movement detected - Apply brakes"
 Guid="87c22afb-9bc5-4e3b-9766-50e04cab0ca3"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="9dd5e902-235a-4d2a-a831-78841664fbd4"
>
<Actions>
<Action
 Guid="81d042ce-d725-4a62-8adc-3c23c24be7cb"
>Odometry.NominalDistance &lt;- Odometry.NominalDistance + 1.5 * Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup</Action><Action
 Guid="110b5695-356f-4659-8bdd-d031e7967c03"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="7868be35-bd64-4b85-8075-617bb488609b"
>Kernel.Mode &lt;- Default.ModeEnum.SR</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="40d71485-2ce8-42ed-9441-69fad048af53"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 95.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="3d6df2c4-cc8c-4077-b3e1-c7aad19e2fe8"
>Kernel.UndesirableMovement.RollAwayDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="cf365415-e37a-4fd5-9939-8419a20a4531"
>THERE_IS X IN 
DMI.MasterDMI().Out_BrakeReason.Reasons | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="7be18eec-582b-4886-9849-fbe7a587416d"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="03211c3a-4fcb-45d4-ba27-c90d8bd3758e"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == True</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Ask for acknowledgement when at standstill"
 Guid="fef856b0-e16d-4cb3-8489-04a4e953fd8b"
>
<ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e9573560-6d8c-4845-9f73-ba3be4e40843"
>
</ReqRef><ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="08019466-492e-4c9c-840b-34ac420cd7f4"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="Movement"
 Guid="f0d37877-e785-4d1e-a73f-82f792fca2b5"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f84b64ba-32a0-4eb9-a55a-513d6ac9b4d6"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus == RequestEnum.Disabled AND FORALL X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type != DMI.IN.Acknowledgements.AckTypeEnum.RollAwayProtection</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Standstill"
 Guid="e42e4f69-6209-46f3-842f-50000f18d271"
>
<Actions>
<Action
 Guid="5b528ea6-9694-43eb-82f1-2acb239451a4"
>Odometry.EstimatedSpeed &lt;- 0.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="b061a0c9-e49e-406e-a289-d79483afbf0b"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus != RequestEnum.Disabled OR THERE_IS X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type == DMI.IN.Acknowledgements.AckTypeEnum.RollAwayProtection</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Release brake when acknowledgement is received"
 Guid="41bc60be-b301-42d8-8aa4-db3890454016"
>
<ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a0011c85-0f54-4689-bc96-dbc15fa0c424"
>
</ReqRef><ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="31df5407-846e-4e21-85cf-3cbe078d0dca"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="No acknowledgement"
 Guid="ffa05fc4-d524-4821-92db-a58546054a64"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="df7d15f0-98a9-4fb4-a0c6-b715c88c25c8"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="a1392ef4-a63c-4a41-8088-52beaa462b63"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 95.0</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Acknowledgement received"
 Guid="12c99101-fa33-4b99-bf52-0bf88b124af2"
>
<Actions>
<Action
 Guid="d8b29dfb-bf21-4fcf-b934-ae6f724d431d"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus &lt;- RequestEnum.Response</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="85b97892-f467-4b81-aa2a-636c15413b5a"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="608d7d65-7ca1-48b8-a880-16b876aaad17"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="2bfd3f43-adda-4af8-9a89-c041d08e8e2c"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition== Odometry.NominalDistance</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase><TestCase
 Name="Roll away protection sequence: movement while TIU.Controller is neutral"
 Guid="7774bd62-e55e-4b1b-8f4d-7943209019bd"
>
<ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ef8d0e42-a6ad-45aa-8ad5-3ec5361691f3"
>
</ReqRef><ReqRef
 Id="507e945d-af5e-4721-af02-3f87008198c9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a8913e58-3cbe-46ef-afea-52a2d506f901"
>
</ReqRef><ReqRef
 Id="6f923071-4cba-403c-9510-8aa3b5a4d6c2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9d705751-677b-4f57-b789-ef185e3a8144"
>
</ReqRef><ReqRef
 Id="1058129e-e8d2-4dda-992f-3f44ebb4a754"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c8adc2d3-1feb-467c-b86f-850aa5562d38"
>
</ReqRef><ReqRef
 Id="5b878cb7-bb66-41bb-96dc-6089f53c8f01"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d1b3c227-cf6b-4163-aebf-5028136c0868"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Setup"
 Guid="08bf0610-c68c-4211-a059-0e9f58a15a6a"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="04c154b5-d69f-4955-a305-be95976c9a2e"
>
<Actions>
<Action
 Guid="c0b7b106-5e35-4041-95ae-a73f047ec6c7"
>Testing.InitializeTestEnvironment
(
    aTrainPosition =&gt; 100.0,
    aMode =&gt; ModeEnum.FS
)</Action><Action
 Guid="4d0e2e5a-0a91-4511-982e-e5351e506c50"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="c8502e13-4dfe-441f-bf7c-8a867637063f"
>TIU.DirectionControllerInformation &lt;- TIU.DirectionControllerEnum.Neutral</Action><Action
 Guid="761b13f8-ca5c-46df-a722-29d9424c660b"
>DMI.IN.Acknowledgements.Acknowledgements &lt;- []</Action><Action
 Guid="800a76ed-3eef-4807-a7b8-ae670c36e9f4"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus &lt;- Default.RequestEnum.Disabled</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="ab15c9dd-e7d7-424f-9c41-a4079749ed4a"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == Odometry.NominalDistance</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Forward movement detected"
 Guid="0e271b29-97dc-49f8-bb3f-a6a67a61b087"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="96982785-76c1-4fbe-88d1-9666d0c79e89"
>
<Actions>
<Action
 Guid="39f46562-a90f-478f-bf4b-504f5ecfebd9"
>Odometry.NominalDistance &lt;- Odometry.NominalDistance + 0.5 * Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup</Action><Action
 Guid="a147c7da-4c58-4168-bb03-ed538e38ca50"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="3a98b5c7-2a00-4fc4-b523-ae3fba8246aa"
>Kernel.Mode &lt;- Default.ModeEnum.SR</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f2832944-3fdc-4152-a38a-06ffe04fec6c"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 100.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="db92e61c-3ca8-41a6-8f1e-2d022b90602e"
>NOT Kernel.UndesirableMovement.RollAwayDistanceExceeded()</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Forward movement detected - Apply brakes"
 Guid="4d0d9efc-fbf3-4b0f-8d21-4d104e9b7e5d"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="e4c6deab-06dc-43a5-878d-69a7c0c920df"
>
<Actions>
<Action
 Guid="26d6505b-7035-4510-8199-e927311604f5"
>Odometry.NominalDistance &lt;- Odometry.NominalDistance + 1.5 * Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup</Action><Action
 Guid="d1f61697-2dbb-45df-9455-5ff11d730501"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="3d6df484-a814-4c3f-9684-708fd5d91320"
>Kernel.Mode &lt;- Default.ModeEnum.SR</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="ef1af56a-ba6f-4565-9f3f-bea96548139d"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 100.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="78bbc4c4-f568-462b-b67b-8ca6d1917e67"
>Kernel.UndesirableMovement.RollAwayDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="8ac90db1-a742-430b-907f-a397bd66bf41"
>THERE_IS X IN 
DMI.MasterDMI().Out_BrakeReason.Reasons | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="89247cb6-000b-43a3-b7d1-25cc0a80f95e"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="a1292329-0ac9-4d5b-9662-19bcc8ed026c"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == True</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Ask for acknowledgement when at standstill"
 Guid="c292517c-2b46-4769-bf18-a239ca0b0047"
>
<ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="25ffb8f9-1fcc-435b-89fd-30364244bd62"
>
</ReqRef><ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="babb008e-613a-4a47-bb9c-f6decb7ba4e8"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="Movement"
 Guid="260466e3-4e9d-4d0c-8178-bb6e0ec8f534"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="394ce75e-e6b3-43ae-b85e-4704ffa44706"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus == RequestEnum.Disabled AND FORALL X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type != DMI.IN.Acknowledgements.AckTypeEnum.RollAwayProtection</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Standstill"
 Guid="f59bb87e-c4e0-4b57-9bea-b0a612f2ea09"
>
<Actions>
<Action
 Guid="0233d483-02a7-4d18-bcc7-6e6fcc71abae"
>Odometry.EstimatedSpeed &lt;- 0.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="8c5a369f-b1b8-4b98-a6bb-a8e4726f1ea2"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus != RequestEnum.Disabled OR THERE_IS X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type == DMI.IN.Acknowledgements.AckTypeEnum.RollAwayProtection</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Release brake when acknowledgement is received"
 Guid="22d96ba7-0f7e-4c08-aa12-83cb53c104af"
>
<ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="853a92aa-ae91-4634-b72d-7b7820403120"
>
</ReqRef><ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3d7356e5-8555-4643-acef-e1161be9bf08"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="No acknowledgement"
 Guid="2865bd34-526a-4d47-af41-71a9602c867c"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="42362d7f-19d3-41af-bfb2-332e88c6b350"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="4424ea41-0d6c-4d3c-a929-38f7e3a0d708"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 100.0</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Acknowledgement received"
 Guid="eb12f060-6627-4251-b9ce-4f4fa1fdbdf8"
>
<Actions>
<Action
 Guid="af9df874-462b-4cc3-942c-7df4c4f0dcb4"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus &lt;- RequestEnum.Response</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="a239f978-62d5-44fa-94c3-b4cdbcfdf39e"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f62e0e20-6d3d-4238-9ebc-842b7dae1bfc"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c31f03ab-70de-401b-a80d-860bbda95132"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition== Odometry.NominalDistance</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Setup"
 Guid="bfdf3813-f3b9-480b-8fea-6bcd04c9e95d"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="c0b5240e-d9d8-4190-a480-a51cc36e77c8"
>
<Actions>
<Action
 Guid="5d43b646-8407-4b9a-84a7-aa39f561b6c7"
>Testing.InitializeTestEnvironment
(
    aTrainPosition =&gt; 100.0,
    aMode =&gt; ModeEnum.FS
)</Action><Action
 Guid="85eb14ce-5f0d-4908-bba4-ffa8c37b6f67"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="42fca2df-0752-44c3-8599-e71223a2729f"
>DMI.IN.Acknowledgements.Acknowledgements &lt;- []</Action><Action
 Guid="32625ede-0d09-45bf-8f8b-271b73e8cec5"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus &lt;- Default.RequestEnum.Disabled</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="e75a5f36-aeef-4002-8527-995a45b4ae7a"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == Odometry.NominalDistance</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Reverse movement detected"
 Guid="c4a2e246-4ae4-4b1c-b389-66638c26b7e4"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="ee434eff-4bf2-41dd-85e2-e96619a7cbef"
>
<Actions>
<Action
 Guid="caec7e6b-bce7-4593-a613-82a1e40e82cd"
>Odometry.NominalDistance &lt;- Odometry.NominalDistance - 0.5 * Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup</Action><Action
 Guid="bf9081a6-30fa-4135-a017-16f0a4d15082"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="50d7ad9d-2384-495d-9775-98859655663c"
>Kernel.Mode &lt;- Default.ModeEnum.RV</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="057e80d7-a316-48cf-a958-ba43d217ecbf"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 100.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="ca99717a-6045-47cf-8882-076a5e52fef5"
>NOT Kernel.UndesirableMovement.RollAwayDistanceExceeded()</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Reverse movement detected - Apply brakes"
 Guid="25c5bd40-9170-4682-9bdc-c942beb02680"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="66c9cc7b-5227-4109-a260-67dcda71f6b7"
>
<Actions>
<Action
 Guid="dc34ab38-823c-44ca-8eb5-b1140b3e2fe0"
>Odometry.NominalDistance &lt;- Odometry.NominalDistance - 1.5 * Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup</Action><Action
 Guid="4ee77815-fa0e-4164-914a-6e81018c2051"
>Odometry.EstimatedSpeed &lt;- 1.0</Action><Action
 Guid="eda9ab13-4b1d-4bef-a35c-903032fc218b"
>Kernel.Mode &lt;- Default.ModeEnum.RV</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="152e4040-69b3-4a15-8dc8-6fa28112643b"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 100.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="e98a1227-6be5-412d-856d-58255af1561b"
>Kernel.UndesirableMovement.RollAwayDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="e4e92ea3-d156-4c03-9e0d-0b19febcf1e5"
>THERE_IS X IN 
DMI.MasterDMI().Out_BrakeReason.Reasons | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c8a0a3ee-0589-4938-a053-cbddeb48e51c"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="d3a10d0c-3994-4690-a223-3cc3ad45ce09"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == True</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Ask for acknowledgement when at standstill"
 Guid="378d0d72-7b25-47c2-897a-f19aeaef96b4"
>
<ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="1c70de76-6475-4666-be66-1c20273e0439"
>
</ReqRef><ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="f0352475-d5af-4ccd-91f2-36766d1eee66"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="Movement"
 Guid="f1e3a398-2efe-4597-ac65-dbe903788f12"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="bbd6d0e9-c933-49f3-a128-69a192996695"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus == RequestEnum.Disabled AND FORALL X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type != DMI.IN.Acknowledgements.AckTypeEnum.RollAwayProtection</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Standstill"
 Guid="ee82e1db-7b87-444b-b640-38147a89d3dd"
>
<Actions>
<Action
 Guid="c1358deb-7971-4f47-8d01-2a8888e9e770"
>Odometry.EstimatedSpeed &lt;- 0.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="acd44957-85a8-425c-850f-637613a8fa73"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus != RequestEnum.Disabled OR THERE_IS X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type == DMI.IN.Acknowledgements.AckTypeEnum.RollAwayProtection</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Release brake when acknowledgement is received"
 Guid="cce3004b-c7e6-48f2-a9a7-7291472c1f48"
>
<ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="dcd6a469-e935-4e3b-a864-bfc195587484"
>
</ReqRef><ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5506f954-e34b-4f88-a8b6-cd84897784ec"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="No acknowledgement"
 Guid="1cb65d6f-49f6-4d40-94de-74b3ab4d0cb0"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="415292a3-fc91-4dcd-b9c2-a51befaae18c"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="58ca9345-c4fa-4c8a-8709-213261f665bd"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition == 100.0</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Acknowledgement received"
 Guid="fc97012e-580b-4492-8e0f-6c53f568feb3"
>
<Actions>
<Action
 Guid="89f5455c-2094-4993-9382-ca1e23123082"
>DMI.MasterDMI().In_AcknForRollAwayProtection.InputInformation.RequestStatus &lt;- RequestEnum.Response</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="a949ea5a-7b03-44e6-a333-fc23c9534bcb"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.RollAwayProtection</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="a5a80451-6eef-4720-a67c-317b8e8d8710"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="5697c1d6-7aca-4b11-8df3-5830fb164c79"
>Kernel.UndesirableMovement.RollAwayMovementReferencePosition== Odometry.NominalDistance</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Standstill supervision"
 Guid="4ee3155c-aee5-474a-b79f-392c9a80472e"
>
<TestCases>
<TestCase
 Implemented="TRUE"
 Name="Full Standstill supervision sequence"
 Guid="2efde04d-8f6c-46bd-a30f-ff2a209f86e7"
>
<ReqRef
 Id="c4a4386b-4dc3-4967-aaef-4485fe5a5adf"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b55ca2df-1b19-46b2-8f9b-01e68d634edc"
>
</ReqRef><ReqRef
 Id="b883cf61-7caf-4980-becb-9096c165864d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9e9c229b-d9fc-4c99-bad9-a33c10bcf567"
>
</ReqRef><ReqRef
 Id="ade33b4f-310e-406d-b308-3be003251c25"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="7d7aaceb-2bd1-4a30-957f-a1bc44daa92e"
>
</ReqRef><ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="14e1efc6-46a5-4a5e-a509-e9de1c7c4b2a"
>
</ReqRef><ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5b20b45a-6973-42eb-98f3-39389dc257ad"
>
</ReqRef><ReqRef
 Id="171a7439-f829-4c74-b166-72756245c015"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d3ebf37a-7e9b-4e10-bf4d-9b2dd95e16ab"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Setup"
 Guid="727ea634-c8cd-47ce-9536-1c6ccb34444a"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="7db99589-80a3-45e4-b2da-9e15a88a8d5f"
>
<Actions>
<Action
 Guid="74b44265-3396-4f8c-b087-753e5bb4af0c"
>Testing.InitializeTestEnvironment
(
    aTrainPosition =&gt; 100.0,
    aMode =&gt; ModeEnum.SB
)</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="6306d123-f080-453f-9326-9377f6337521"
>Kernel.UndesirableMovement.StandstillSupervisionReferencePosition == BaseTypes.Distance.Unknown</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Detect movement"
 Guid="9c9c08cd-d0aa-48c1-886b-17545ca63d02"
>
<ReqRef
 Id="c4a4386b-4dc3-4967-aaef-4485fe5a5adf"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ff543e72-3eab-48a0-81b6-7091e198a8ac"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="d41c7307-eb48-47da-bd68-73f578a70f2e"
>
<Actions>
<Action
 Guid="9c7888aa-fde5-4a2e-a16a-52abd1ea7b82"
>Odometry.EstimatedSpeed &lt;- 2.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f1397fae-c8f3-4e8b-aa85-0042c224f3c0"
>Kernel.UndesirableMovement.StandstillSupervisionReferencePosition == 100.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Apply service brake if standtill distance exceeded"
 Guid="43cc983a-a050-4be1-8f5f-c8eb6963c246"
>
<ReqRef
 Id="b883cf61-7caf-4980-becb-9096c165864d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e35f5197-8141-4559-9f7e-7f1b2002e44e"
>
</ReqRef><ReqRef
 Id="c4a4386b-4dc3-4967-aaef-4485fe5a5adf"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2420b745-9957-41ff-a5f3-a7fce8afb834"
>
</ReqRef><ReqRef
 Id="ade33b4f-310e-406d-b308-3be003251c25"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0885084a-5960-4dcc-9e3d-3a1c63157374"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="No brake (forward movement)"
 Guid="dd8218c8-6799-42a7-a9da-cf3e09fc9242"
>
<Actions>
<Action
 Guid="3d2d710d-1d25-498c-ac3f-598321f4a5e7"
>Odometry.NominalDistance &lt;- Kernel.UndesirableMovement.StandstillSupervisionReferencePosition + Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup - 0.5</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="e3e17027-9d2a-4451-91a6-fd5c2e2a4aec"
>NOT Kernel.UndesirableMovement.StandstillDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c3e084dd-7f28-47ca-8321-09ee208c8139"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="No brake (backward movement)"
 Guid="b1824385-90ed-439e-9286-da1240a2d082"
>
<Actions>
<Action
 Guid="84306e4c-4b10-4ff7-875f-5bcbe172eed1"
>Odometry.NominalDistance &lt;- Kernel.UndesirableMovement.StandstillSupervisionReferencePosition - Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup + 0.5</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="b8b5460f-70fd-4391-8450-9ce6c412d88a"
>NOT Kernel.UndesirableMovement.StandstillDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="6e6694c1-c9a0-4c19-80b6-fb41ee3d02e5"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Brake (forward movement)"
 Guid="6eba1eff-ac7c-4f80-b686-333bde320167"
>
<Actions>
<Action
 Guid="8893bfd7-ee68-4591-ae3e-67a6487d1867"
>Odometry.NominalDistance &lt;- Kernel.UndesirableMovement.StandstillSupervisionReferencePosition + Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup + 0.1</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="bd63c139-613e-4004-9a46-f9e6cf881f88"
>Kernel.UndesirableMovement.StandstillDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="9dc18511-373b-4180-a6f5-d892e0b77b37"
>THERE_IS X IN 
DMI.MasterDMI().Out_BrakeReason.Reasons | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="737e14e4-313a-41f9-9ec9-b8b200c1a226"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="7494ea8d-921f-4a1c-91b0-8ad5ad050e1a"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == True</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Brake (backward movement)"
 Guid="42ef95a4-619a-465a-a9ea-64a581d40ed2"
>
<Actions>
<Action
 Guid="7bea0370-815b-4802-9efe-400cf0b1d5ff"
>Odometry.NominalDistance &lt;- Kernel.UndesirableMovement.StandstillSupervisionReferencePosition - Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup - 0.1</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f6334d04-b0ce-4760-b9ef-1c2d3ae7609c"
>Kernel.UndesirableMovement.StandstillDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="24c9c705-b694-4035-9699-c993703260b7"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="039cab0f-939e-490e-b1a8-6e5deb47431a"
>THERE_IS X IN 
DMI.MasterDMI().Out_BrakeReason.Reasons | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="91a013e2-f9e1-4e2d-87e6-eda91656120d"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == True</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Ask for acknowledgement when at standstill"
 Guid="6b763b57-5b42-4801-ae27-90263b37a37b"
>
<ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ad6f69df-5306-473f-9249-9d628511bf36"
>
</ReqRef><ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2ae2ded8-d829-4bb6-94b3-4b184b6aeb16"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="Movement"
 Guid="5554892b-978d-403c-b181-f2d9481a90a7"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="3ffb51f0-d94c-499f-8a92-9d46321ea0ed"
>DMI.MasterDMI().In_AcknForStandstillSupervision.InputInformation.RequestStatus == RequestEnum.Disabled AND FORALL X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type != DMI.IN.Acknowledgements.AckTypeEnum.StandstillSupervision</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Standstill"
 Guid="995d2e4f-8502-4dc9-b280-3c3eebca4ffe"
>
<Actions>
<Action
 Guid="5a77afa8-af9b-46e9-8b4e-3bf0e083cb48"
>Odometry.EstimatedSpeed &lt;- 0.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="7497cc85-04da-44ef-84c9-0c68a8b7e89b"
>DMI.MasterDMI().In_AcknForStandstillSupervision.InputInformation.RequestStatus != RequestEnum.Disabled OR THERE_IS X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type == DMI.IN.Acknowledgements.AckTypeEnum.StandstillSupervision</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Release brake when acknowledgement is received"
 Guid="b7f86715-4ea9-435b-88bd-e59da0a86185"
>
<ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5515bd21-ba5b-47b0-8d33-4c13fdc8aa2c"
>
</ReqRef><ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="90c2f8cd-ff8b-4007-a422-da3bdb08ed7d"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="No acknowledgement"
 Guid="b5628e11-4643-4717-8f52-cfb87005d45f"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="551030e0-ad68-4b05-af7b-010a0bb5fbf8"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Acknowledgement received"
 Guid="0f7e102c-19b1-4910-a8b0-7fbd8ab9d0fc"
>
<Actions>
<Action
 Guid="323623f0-8b30-4ffe-a1d3-8c716a8863b0"
>DMI.MasterDMI().In_AcknForStandstillSupervision.InputInformation.RequestStatus &lt;- Default.RequestEnum.Response</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="e6d0b9e8-7727-4848-875c-71dc052d0196"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="5706af90-6856-49bd-b4d2-cb5310b2c2b0"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == False</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Standstill supervision_NoACK"
 Guid="52faa42a-923b-48cb-8d03-8e73a9a69e82"
>
<TestCases>
<TestCase
 Implemented="TRUE"
 Name="Full Standstill supervision sequence"
 Guid="71b1ff57-09c3-47b0-983b-3ecfd72d046a"
>
<ReqRef
 Id="c4a4386b-4dc3-4967-aaef-4485fe5a5adf"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c7119ba3-ca73-40a9-a846-1c2fdf530146"
>
</ReqRef><ReqRef
 Id="b883cf61-7caf-4980-becb-9096c165864d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="642916f2-cd35-488d-8ad9-227b89240a76"
>
</ReqRef><ReqRef
 Id="ade33b4f-310e-406d-b308-3be003251c25"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="618a6f29-5cf3-4b67-a2a6-9d1e524612d9"
>
</ReqRef><ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ee5f81ab-120f-401a-ab63-c17b559fdc6d"
>
</ReqRef><ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="1074cc5a-eaca-4f87-b36f-6b0bb45062e4"
>
</ReqRef><ReqRef
 Id="171a7439-f829-4c74-b166-72756245c015"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="12f12e77-4eb9-4bc3-bf3d-740b7e570f35"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Setup"
 Guid="b590c6b6-f960-48a5-89c9-92e7bde29fff"
>
<SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="7199cf3f-5c5e-4e2c-9f2b-907ed821426f"
>
<Actions>
<Action
 Guid="182c5b1a-cd36-4614-be19-6ecd6a5c34bc"
>Testing.InitializeTestEnvironment
(
    aTrainPosition =&gt; 100.0,
    aMode =&gt; ModeEnum.SB
)</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="0f80acb5-4d3d-453c-94e5-5cfba1209008"
>Kernel.UndesirableMovement.StandstillSupervisionReferencePosition == BaseTypes.Distance.Unknown</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Detect movement"
 Guid="0488c191-5ff6-492b-9e75-65d0abeb613f"
>
<ReqRef
 Id="c4a4386b-4dc3-4967-aaef-4485fe5a5adf"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="42168491-98dd-4e89-ad0c-7fd6e697fe36"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="SubStep1"
 Guid="1a42f904-5e9d-4c85-b05c-4a99429b4417"
>
<Actions>
<Action
 Guid="8ccefe53-2ed0-49cc-b14c-abb0874aed99"
>Odometry.EstimatedSpeed &lt;- 2.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="7b688396-471c-41a2-9019-141e286d4261"
>Kernel.UndesirableMovement.StandstillSupervisionReferencePosition == 100.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Apply service brake if standtill distance exceeded"
 Guid="ffcfd2ff-7a32-46b6-89c8-24a27ec3a984"
>
<ReqRef
 Id="b883cf61-7caf-4980-becb-9096c165864d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="138b4331-c802-4126-89cd-e6d8415963fa"
>
</ReqRef><ReqRef
 Id="c4a4386b-4dc3-4967-aaef-4485fe5a5adf"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b8ed0355-781e-4b5d-8dde-f24f603ccf72"
>
</ReqRef><ReqRef
 Id="ade33b4f-310e-406d-b308-3be003251c25"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ed3d63d9-e64d-4f5c-aa68-76282cb7185d"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="No brake (forward movement)"
 Guid="118a9fc9-3fd6-4d8d-a8f3-2c26edd70c81"
>
<Actions>
<Action
 Guid="cab8e97e-7000-4368-877b-ac655a927bae"
>Odometry.NominalDistance &lt;- Kernel.UndesirableMovement.StandstillSupervisionReferencePosition + Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup - 0.5</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="61f080b3-0448-4f2c-b896-f8a5e4690a40"
>NOT Kernel.UndesirableMovement.StandstillDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="4a27e8e3-6002-493c-a10f-1d8c4708bf19"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="No brake (backward movement)"
 Guid="d68ce462-3241-495b-babb-b7346c4f948d"
>
<Actions>
<Action
 Guid="d300b3ff-cd1a-440c-a482-25f4a4783881"
>Odometry.NominalDistance &lt;- Kernel.UndesirableMovement.StandstillSupervisionReferencePosition - Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup + 0.5</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="11cafa41-20ae-402f-8cfc-eb94d70ca7e4"
>NOT Kernel.UndesirableMovement.StandstillDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="229e76f5-bd84-4d5f-bc79-d48e8a11bfab"
>FORALL X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason != Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Brake (forward movement)"
 Guid="ced413f9-9fd8-43e8-a91b-f2431bbf4be0"
>
<Actions>
<Action
 Guid="e04fb7ef-9450-48f1-a29e-bed470ee4b40"
>Odometry.NominalDistance &lt;- Kernel.UndesirableMovement.StandstillSupervisionReferencePosition + Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup + 0.1</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="e853b483-8504-4c3a-942b-ba115a13189d"
>Kernel.UndesirableMovement.StandstillDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="29f080c2-467b-43b1-955e-68fba2d34ff9"
>THERE_IS X IN 
DMI.MasterDMI().Out_BrakeReason.Reasons | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="85b273b7-5b25-4bac-a876-f5d39287a48f"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="3d993e99-6028-4247-878a-63f3af6ee144"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == True</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Brake (backward movement)"
 Guid="91c9879b-3492-499c-a5d8-4c6d58f37276"
>
<Actions>
<Action
 Guid="2260773c-1fa5-4bac-9404-2fb4bd81d9ea"
>Odometry.NominalDistance &lt;- Kernel.UndesirableMovement.StandstillSupervisionReferencePosition - Kernel.NationalValues.ApplicableNationalValues.Value.DistToBeUsedInRollAwayProt_RevMvtProt_StandstillSup - 0.1</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="11ddc4c1-9fb6-44d6-b570-51917fd35606"
>Kernel.UndesirableMovement.StandstillDistanceExceeded()</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="627c1317-eeee-4341-9eb4-6df6970758c6"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="311f8bbc-e3d4-41eb-acc6-4e47c60b546e"
>THERE_IS X IN 
DMI.MasterDMI().Out_BrakeReason.Reasons | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="4b1986d0-a93b-47ce-8382-ee07a0a952c1"
>DMI.MasterDMI().Out_BrakeReason.OutputInformation.DisplayRequested == True</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Ask for acknowledgement when at standstill"
 Guid="b44e5694-73af-4ef6-af71-b470d04c1d35"
>
<ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="1290f23d-7eb2-4a57-92a8-107ca380e7f8"
>
</ReqRef><ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="60db0488-c4a3-4efc-82cb-7d3c76f267dd"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="Movement"
 Guid="d677d18a-1db4-4dac-8600-63d8b2e32ff7"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c21935f7-6f73-4cee-a883-674a3939b965"
>DMI.MasterDMI().In_AcknForStandstillSupervision.InputInformation.RequestStatus == RequestEnum.Disabled AND FORALL X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type != DMI.IN.Acknowledgements.AckTypeEnum.StandstillSupervision</Expectation></Expectations>
</SubStep><SubStep
 TimeDelay="NotDelayed"
 Name="Standstill"
 Guid="b30c6e06-0cfa-4288-83c2-99c7aa8308ae"
>
<Actions>
<Action
 Guid="fe6348dd-550d-49eb-9a43-60a8259cf142"
>Odometry.EstimatedSpeed &lt;- 0.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="dee53b7f-32e7-4019-ae97-defd5f27bc3f"
>DMI.MasterDMI().In_AcknForStandstillSupervision.InputInformation.RequestStatus != RequestEnum.Disabled OR THERE_IS X IN DMI.IN.Acknowledgements.Acknowledgements | X.Type == DMI.IN.Acknowledgements.AckTypeEnum.StandstillSupervision</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Release brake when acknowledgement is received"
 Guid="a3b7fda2-e3c2-4e11-82be-cbbe8afbd4eb"
>
<ReqRef
 Id="ba7f8c98-781f-404a-b7b8-e679b92c5448"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="022a1b71-7063-4868-9307-c37632034235"
>
</ReqRef><ReqRef
 Id="f4fbf115-c910-46e8-b6e7-bf1fb0f8a4b3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e6f8429d-a609-4c74-8c96-e1b1dac7503e"
>
</ReqRef><SubSteps>
<SubStep
 TimeDelay="NotDelayed"
 Name="No acknowledgement"
 Guid="fb1da19b-1fd1-4b7d-aa10-c820a4bb8c3b"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="caaa2b73-3882-45ab-b4a7-381814e258a4"
>THERE_IS X IN Kernel.BrakeCommands.ServiceBrakeCommands | X.Reason == Kernel.BrakeCommands.BrakeReasonEnum.SupervisingStandstill</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence></SubSequences>
</Frame>
