<NameSpace
 X="140"
 Y="200"
 Width="100"
 Height="50"
 Name="Header"
 Guid="15cd13cd-60cf-41fe-a4ca-941b48ce7c20"
>
<Comment>Definition of the JRU message header, and functions to fetch all the information needed for this.</Comment>
<NameSpaces>
</NameSpaces>
<Functions>
<Function
 Type="Messages.JRU.HEADER.Message"
 Default=""
 X="30"
 Y="30"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="CreateHeader"
 Guid="9962f540-f94d-473f-91e9-bc737b1a13a7"
>
<ReqRef
 Id="e4bac226-7f4c-4034-8611-a1b2a429006f"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="11912121-c272-4389-88b3-d298b8dfa876"
>
</ReqRef><ReqRef
 Id="d7ff8235-78a7-423d-a351-50a649b66d8e"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="4bf3c8f1-a097-42aa-8feb-45c1ce530fa5"
>
</ReqRef><ReqRef
 Id="e52688db-b556-49fa-adc7-5872de3f1038"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="b1eb281d-1dd1-4251-82d1-ac3614db9c39"
>
</ReqRef><ReqRef
 Id="6e38004e-74a2-4d5e-afc2-535022239fea"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="8db1b6c9-a29d-4145-8dce-a44f4c244483"
>
</ReqRef><ReqRef
 Id="4a22fd87-da9f-42a3-b0a8-859408806178"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="8669d45b-5d8d-4b4e-aee3-c0e83518b7e6"
>
</ReqRef><ReqRef
 Id="3c0233a7-b01e-40fb-a5f0-652063fdf644"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="25138f87-a7a2-48be-aca8-b01d334b4870"
>
</ReqRef><ReqRef
 Id="55f1519a-05d7-4825-97c7-d7a1b746b27b"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="61f745e6-9ca7-4166-b474-1b60b1e89ab5"
>
</ReqRef><ReqRef
 Id="498726b7-6f35-4b72-909e-32d4995241ba"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="70b82dae-a749-42fa-8fef-135e770bb4d1"
>
</ReqRef><ReqRef
 Id="23f87f8c-2500-4f0c-87d6-f92f4df40390"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="7d207f01-737b-4249-a0ca-d610732889f9"
>
</ReqRef><ReqRef
 Id="4c5f3c51-19fa-414b-bac9-a02f2705838a"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="ed303bd3-89bc-48d7-b257-7b593a3431cb"
>
</ReqRef><ReqRef
 Id="1fc0ada4-257d-4414-9f05-cdb742f0d054"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="e3eead21-5ec9-4840-bbda-a49371496f2f"
>
</ReqRef><ReqRef
 Id="57c8cd45-54ca-4d5e-b07f-37b9b1efab54"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2a8f928d-a91f-4e42-b521-974ac0ca0f4e"
>
</ReqRef><ReqRef
 Id="9924af12-6d88-465d-a306-165cf4a09123"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="551944ff-8070-4b62-9ae4-c5a79c4f17c3"
>
</ReqRef><ReqRef
 Id="42c3083d-0a1d-44be-9973-50a3f31956d6"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="79576332-13fb-416c-9661-d4bc10fb9ba3"
>
</ReqRef><ReqRef
 Id="d7a3c24e-8677-4def-857e-6a46c7faa628"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="83a4da25-419b-4e38-abd7-e68916b25820"
>
</ReqRef><ReqRef
 Id="f2807403-2ed2-4f03-9669-347dc97b1daa"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="c8083e00-f7d7-457d-8a86-3d1769675ca1"
>
</ReqRef><ReqRef
 Id="2a62a9cd-6e7b-4a40-b527-182fafda63b4"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="a2ab7ab7-5c03-43c6-adf8-9048a42a451a"
>
</ReqRef><ReqRef
 Id="7e9288d3-9c65-4f84-9d67-7dfd155350aa"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="51179826-02e7-41f7-99f3-9d0f37610805"
>
</ReqRef><ReqRef
 Id="ea8128a8-7e46-455f-8339-ecff77dec87b"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="b0c6bbd3-e88e-4f52-8413-e725158fc776"
>
</ReqRef><ReqRef
 Id="82fe98f5-1bb9-4b41-8fb5-faa0e4045200"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="44b8a4da-af90-43ce-a6c4-e2217be25b7c"
>
</ReqRef><ReqRef
 Id="7248c9fd-02cc-47d7-8a7c-fba6f5dac6b2"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="c79ef822-3d2d-44e8-a1db-b1e4e9473789"
>
</ReqRef><ReqRef
 Id="60d8bcde-b154-4df4-96f6-92aa9a207ef8"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="ce853ee8-623a-4c20-af63-dc83f32960bf"
>
</ReqRef><ReqRef
 Id="c8af4db0-327b-4bb4-baa3-fbf2c80f3dd5"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="8ee38fd6-17bc-4024-8227-4d7b7798cdf5"
>
</ReqRef><ReqRef
 Id="bfb93d33-1c4d-4d45-85b1-359c7836c2d9"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="25469c4c-81c4-4654-899c-8856a2e4f7b2"
>
</ReqRef><ReqRef
 Id="c4b9d3bc-5c8b-4ac2-8c27-ee8ea36d07f6"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="1c06376c-b72d-4780-bb68-47e5cecc610f"
>
</ReqRef><ReqRef
 Id="45392304-4153-46a1-8350-2f6ec8983a26"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="c8a23ca4-5083-4e66-89fe-7098764731ed"
>
</ReqRef><ReqRef
 Id="3bba1094-f5b3-4ffa-b3cf-2367377a8f66"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="e8b500c1-e905-49da-b3a1-ec748aa58d9b"
>
</ReqRef><ReqRef
 Id="9e8a6edb-4057-4469-812a-8e1de4e92e21"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="ec6b01f3-0750-4456-995c-762ad75ec416"
>
</ReqRef><ReqRef
 Id="16a0bb29-21f7-45a7-be8f-c82652664556"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="40c2e9b9-94c3-4ca8-94ac-32223f9e02f8"
>
</ReqRef><ReqRef
 Id="e8569428-2761-4f28-8cc8-5d724346d285"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="b193ef08-1607-49d6-9cd8-f907ff92669d"
>
</ReqRef><ReqRef
 Id="f35168d8-2efd-47d5-9a8a-aa18288bacb5"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="69c3d7c6-042f-4051-aaa0-14f1f4f987a9"
>
</ReqRef><ReqRef
 Id="a641ebfc-0a9c-443c-a4df-9a134cae8199"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="6a5eac6f-75eb-4cc2-a947-e2fd508b5016"
>
</ReqRef><ReqRef
 Id="01149433-eb64-4471-8e84-ba520c1635d5"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="b3d71dab-4dd5-4951-af68-729d01ed4b5d"
>
</ReqRef><ReqRef
 Id="0742d599-3812-48fe-be0f-79a01bd63bbc"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="0c023ae3-aa3d-47a0-ad2c-07a9ffb772fb"
>
</ReqRef><ReqRef
 Id="ce578d9d-bc39-4f4a-85c9-18615261f639"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="3b9c123a-b867-4d45-8d83-e49dee1d79d8"
>
</ReqRef><ReqRef
 Id="e18fc4cc-6fbb-4086-a842-dff260294b1f"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="26c8aff1-2d43-40ad-ba85-bb2cc4a38d52"
>
</ReqRef><ReqRef
 Id="de697d55-84b5-4e6c-9e4f-b25b32821180"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="6edb7284-b399-4e52-8160-5a493ae6a546"
>
</ReqRef><ReqRef
 Id="6f3aac9c-7ea4-4a24-9098-8401aa8b22f9"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="79982b21-07ff-43cd-809a-eeae814e867e"
>
</ReqRef><ReqRef
 Id="e1abd747-9c54-43d2-b647-4633ce3e4e3b"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="0347df54-4043-4728-8e69-c59eda74a542"
>
</ReqRef><ReqRef
 Id="3c64ae3c-8549-4e30-a019-5eb9b8c965e7"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="cffec876-308e-4d76-b109-d4f2635ecb08"
>
</ReqRef><ReqRef
 Id="cc3d45f4-d90b-4e96-9049-1701e7aa7cf3"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="de87688b-f03f-432f-8596-351b8d41f379"
>
</ReqRef><ReqRef
 Id="fbdccb80-301b-4431-a470-97e66ae1ef6c"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="899bf80e-2525-4ddc-a1bc-526f4b574f91"
>
</ReqRef><ReqRef
 Id="2a15b46d-5611-4053-974b-182b0436ce24"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="1b546337-de36-49fc-8d7c-82303284dcda"
>
</ReqRef><ReqRef
 Id="44bf4823-05db-4276-a978-5ebe4be5810d"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="ad958cec-2bed-443f-9b15-85d40cfbc3dd"
>
</ReqRef><ReqRef
 Id="b9538a8b-54f9-4f8e-bdc2-8c535fceb675"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="765584c6-ad12-45dd-b36b-bc1777e49f90"
>
</ReqRef><ReqRef
 Id="9e76d22c-dd18-4697-8aaa-2d37c2608b67"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="4ca1688e-64ff-4d2a-a73f-88ab867a2548"
>
</ReqRef><ReqRef
 Id="8aa4a2d0-f0af-4e25-b00f-ae42f0a9c0ba"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="73f159a8-c41a-4222-8093-682d359fb9c9"
>
</ReqRef><ReqRef
 Id="45e25e11-fae5-4e6c-bb31-76de6e847cdb"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="45e1caf5-2061-49c2-8fc6-6090187d4f9c"
>
</ReqRef><ReqRef
 Id="481363d7-a16f-42a7-aefb-ec3844a005fa"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="b4022bd1-cc7c-4c7a-a2c5-561439e69714"
>
</ReqRef><Comment>Creates the common fields of a JRU message</Comment>
<Parameters>
<Parameter
 Type="Integer"
 Name="MessageId"
 Guid="e61acd4f-d843-4a29-adac-d4eb68168d25"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="JRUHeader"
 Guid="26f17d21-e797-4d30-972c-e9d5567392a3"
>
<Expression>Messages.JRU.HEADER.Message
     {
        NID_MESSAGE =&gt; MessageId,
        L_MESSAGE =&gt; 0,
        DATE =&gt; Messages.JRU.DATE.Message
        {
            YEAR =&gt; Kernel.DateAndTime.Now().Year,
            MONTH =&gt; Kernel.DateAndTime.Now().Month,
            DAY =&gt; Kernel.DateAndTime.Now().Day
        },
        TIME =&gt; Messages.JRU.TIME.Message
        {
            HOUR =&gt; Kernel.DateAndTime.Now().Hour,
            MINUTES =&gt; Kernel.DateAndTime.Now().Minute,
            SECONDS =&gt; Kernel.DateAndTime.Now().Second,
            TTS =&gt; Kernel.DateAndTime.Now().TTS
        },
        TRAIN_POSITION =&gt; Messages.JRU.TRAIN_POSITION.Message
        {
            Q_SCALE =&gt; ToJRUQScale(Messages.Q_SCALE._1_m_scaleC),
            NID_LRBG =&gt;ToJRUNidLRBG(BTM.LRBG.LRBG().NID_BG),
            D_LRBG =&gt; ToJRUDLRBG(Messages.JRU.Q_SCALE._1_m_scaleC),
            Q_DIRLRBG =&gt; ToJRUQdirLRBG(Kernel.TrainPosition.Position.DirectionalPositionInformation.TrainOrientation),
            Q_DLRBG =&gt; ToJRUQDLRBG(Kernel.TrainPosition.Position.DirectionalPositionInformation.TrainFrontEndPosition),
            L_DOUBTOVER =&gt; ToJRULDoubtOver(Messages.JRU.Q_SCALE._1_m_scaleC),
            L_DOUBTUNDER =&gt; ToJRULDoubtUnder(Messages.JRU.Q_SCALE._1_m_scaleC)
        },
        V_TRAIN =&gt; ToJRUVtrain(),
        DRIVER_ID =&gt; Kernel.DriverId.Value,
        NID_ENGINE =&gt; Kernel.NidEngine,
        SYSTEM_VERSION =&gt; ToJRUSystemVersion(VersionManagement.MessageVersionFromSystemVersion(VersionManagement.OperatedSystemVersion)),
        LEVEL =&gt; ToJRULevel(GetLevel().Value),
        MODE =&gt; ToJRUMode(GetMode())
    }</Expression>
</Case></Cases>
</Function><Function
 Type="MessageTypes.Distance"
 Default=""
 X="210"
 Y="20"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ToJRUDLRBG"
 Guid="74a710bc-8832-432b-ab9d-dfc7725d4ea8"
>
<ReqRef
 Id="ea8128a8-7e46-455f-8339-ecff77dec87b"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="1048a9af-abc5-47e4-a02f-83ba07d2ade1"
>
</ReqRef><Comment>Provides the JRU DLRBG</Comment>
<Parameters>
<Parameter
 Type="Messages.JRU.Q_SCALE"
 Name="scale"
 Guid="459a5440-d08b-4655-a3c5-5ee43933eb96"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="D_LRBG"
 Guid="8b98f5c1-5722-4917-8ca6-4c9408d771e3"
>
<Expression>MessageTypes.UnScaleDistance ( Kernel.TrainPosition.FrontEndPosition(DistanceIntervalEnum.Nom), scale)</Expression>
</Case></Cases>
</Function><Function
 Type="MessageTypes.Length"
 Default=""
 X="320"
 Y="20"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ToJRULDoubtOver"
 Guid="596b4813-88d1-4881-83c5-661260ab562a"
>
<ReqRef
 Id="60d8bcde-b154-4df4-96f6-92aa9a207ef8"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="f63487a4-f12f-4a56-b6b9-08cbab6e74ec"
>
</ReqRef><Comment>Provides the JRU Q_L_DOUBT_OVER</Comment>
<Parameters>
<Parameter
 Type="Messages.JRU.Q_SCALE"
 Name="scale"
 Guid="69d3c906-979b-4bd6-99d1-fa6901ae58b4"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="L_DOUBTOVER"
 Guid="12bf1e94-2638-470c-911e-55bd927b5f3e"
>
<Expression>MessageTypes.UnScaleLength ( Kernel.TrainPosition.ConfidenceInterval.ConfidenceInterval(ConfidenceIntervalEnum.L_DOUBTOVER), scale)</Expression>
</Case></Cases>
</Function><Function
 Type="MessageTypes.Length"
 Default=""
 X="430"
 Y="20"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ToJRULDoubtUnder"
 Guid="5eb9ddf6-9925-456d-8b77-5a9fcacbaef8"
>
<ReqRef
 Id="c8af4db0-327b-4bb4-baa3-fbf2c80f3dd5"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="b5af53af-9838-4f40-a720-d52945325521"
>
</ReqRef><Comment>Provides the JRU L_DOUBT_UNDER</Comment>
<Parameters>
<Parameter
 Type="Messages.JRU.Q_SCALE"
 Name="scale"
 Guid="7b58f423-cc0c-4876-9701-0c1a3be57a4d"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="L_DOUBTUNDER"
 Guid="6671444f-d7d6-4175-975d-cce10ef0234b"
>
<Expression>MessageTypes.UnScaleLength ( Kernel.TrainPosition.ConfidenceInterval.ConfidenceInterval(ConfidenceIntervalEnum.L_DOUBTUNDER), scale)</Expression>
</Case></Cases>
</Function><Function
 Type="Messages.JRU.LEVEL"
 Default=""
 X="210"
 Y="80"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ToJRULevel"
 Guid="ac4426f8-eda9-485b-989d-a7a7611ec6b6"
>
<ReqRef
 Id="45e25e11-fae5-4e6c-bb31-76de6e847cdb"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="9cd229da-1652-4ed9-b775-d7c6805d9c98"
>
</ReqRef><Comment>Provides the JRU Level</Comment>
<Parameters>
<Parameter
 Type="LevelEnum"
 Name="level"
 Guid="671b6ff1-c6f4-4b84-ac91-846a87f00732"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Messages.JRU.LEVEL.Level_0"
 Guid="dc14beb5-33e6-4376-b6bc-b0987021cec7"
>
<PreConditions>
<PreCondition
 Guid="34d01b9a-809b-40bd-bf19-ea740f16f309"
>level == LevelEnum.L0</PreCondition></PreConditions>
<Expression>Messages.JRU.LEVEL.Level_0</Expression>
</Case><Case
 Name="Messages.JRU.LEVEL.Level_1"
 Guid="d485ae58-4e52-4eca-962b-8319415079c6"
>
<PreConditions>
<PreCondition
 Guid="7ef86129-792b-4f61-829c-12f9a23e1c01"
>level == LevelEnum.L1</PreCondition></PreConditions>
<Expression>Messages.JRU.LEVEL.Level_1</Expression>
</Case><Case
 Name="Messages.JRU.LEVEL.Level_2"
 Guid="1b8a86ee-d776-4835-ac45-115f6f29ff29"
>
<PreConditions>
<PreCondition
 Guid="8ffe33fe-aebb-4ef8-b457-5fb0fbfcd824"
>level == LevelEnum.L2</PreCondition></PreConditions>
<Expression>Messages.JRU.LEVEL.Level_2</Expression>
</Case><Case
 Name="Messages.JRU.LEVEL.Level_3"
 Guid="2b1689c9-ee32-4449-a35a-3a9f73612435"
>
<PreConditions>
<PreCondition
 Guid="c7bdf3fd-6767-44ce-8db6-2e2210514613"
>level == LevelEnum.L3</PreCondition></PreConditions>
<Expression>Messages.JRU.LEVEL.Level_3</Expression>
</Case><Case
 Name="Level_STM_specified_by_NID_NTC"
 Guid="162ff1a8-b5b4-41d2-b814-36deb51f3b38"
>
<PreConditions>
<PreCondition
 Guid="d80edfa1-7aba-4a01-891e-c142c5831aef"
>level == LevelEnum.LNTC</PreCondition></PreConditions>
<Expression>Messages.JRU.LEVEL.Level_STM_specified_by_NID_NTC</Expression>
</Case></Cases>
</Function><Function
 Type="Messages.M_MODE"
 Default=""
 X="320"
 Y="80"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ToJRUMode"
 Guid="66578131-da84-494b-84c4-f928a111de40"
>
<ReqRef
 Id="481363d7-a16f-42a7-aefb-ec3844a005fa"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="fc928b4e-356d-4723-942a-8cc3c15e0b37"
>
</ReqRef><Comment>Provides the JRU M_MODE</Comment>
<Parameters>
<Parameter
 Type="ModeEnum"
 Name="mode"
 Guid="7cac4561-1c47-4d45-a0e5-3345dba4562a"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="JruModeStaffResponsible"
 Guid="5238deb0-0f6c-43a8-908f-657224a59bf3"
>
<PreConditions>
<PreCondition
 Guid="d58b5d4c-137e-45f0-b033-388f663e004a"
>mode == ModeEnum.SR</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Staff_Responsible</Expression>
</Case><Case
 Name="JruModeOnSight"
 Guid="09e68e3b-794c-4bee-8049-62b1ca670f9e"
>
<PreConditions>
<PreCondition
 Guid="65dd3f84-c68c-4f44-a554-2f37e35b3b97"
>mode == ModeEnum.OS</PreCondition></PreConditions>
<Expression>Messages.M_MODE.On_Sight</Expression>
</Case><Case
 Name="JruModeIsolation"
 Guid="30329f9d-f3d1-49cd-8b66-43416241b080"
>
<PreConditions>
<PreCondition
 Guid="c81827f1-e33b-499b-a201-e2c6e05c71be"
>mode == ModeEnum.IS</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Isolation</Expression>
</Case><Case
 Name="JruModeLimitedSupervision"
 Guid="412b3e3f-1905-4c28-bebe-5aef5b79be68"
>
<PreConditions>
<PreCondition
 Guid="78e1e3b4-747f-45fe-b3bd-79017ec187a9"
>mode == ModeEnum.LS</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Limited_Supervision</Expression>
</Case><Case
 Name="JruModeNationalSystem"
 Guid="1445d1ed-e80e-42d9-9f8c-a47f97cc7bcd"
>
<PreConditions>
<PreCondition
 Guid="a50e9e12-b362-4b8c-8e8b-7b712c356128"
>mode == ModeEnum.SN</PreCondition></PreConditions>
<Expression>Messages.M_MODE.National_System</Expression>
</Case><Case
 Name="JruModeNonLeading"
 Guid="8c9b81fc-9629-43fa-8f30-62198913d923"
>
<PreConditions>
<PreCondition
 Guid="4144de64-8c31-44fb-8fd0-c3d313c9f65d"
>mode == ModeEnum.NL</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Non_Leading</Expression>
</Case><Case
 Name="JruModePassiveShunting"
 Guid="69378b72-b46e-42f5-b46f-0d695adef3d0"
>
<PreConditions>
<PreCondition
 Guid="2c957db7-0de7-4ed7-a4e0-00cc2dc23fbe"
>mode == ModeEnum.PS</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Passive_Shunting</Expression>
</Case><Case
 Name="JruModePosttrip"
 Guid="70bc49b0-3de9-4c9b-9d4e-6720a7a27e7a"
>
<PreConditions>
<PreCondition
 Guid="7772e571-7bf8-4792-b099-e58c84aebaa1"
>mode == ModeEnum.PT</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Post_Trip</Expression>
</Case><Case
 Name="JruModeReversing"
 Guid="0284e8ca-9994-45c1-8858-b73b60e2c682"
>
<PreConditions>
<PreCondition
 Guid="82409c40-e1d0-4962-bd58-f750f695df1e"
>mode == ModeEnum.RV</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Reversing</Expression>
</Case><Case
 Name="JruModeUnfitted"
 Guid="1493be04-bfc6-4148-a0eb-d5efa0cfa07c"
>
<PreConditions>
<PreCondition
 Guid="0183745a-b08c-497d-8ac4-ad06006de01c"
>mode == ModeEnum.UN</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Unfitted</Expression>
</Case><Case
 Name="JruModeShunting"
 Guid="1555ab74-dfe9-44ee-aaf9-eaa35ec9f454"
>
<PreConditions>
<PreCondition
 Guid="ef5c2c4e-4fb8-4c5c-9a79-d7a5b4c61fea"
>mode == ModeEnum.SH</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Shunting</Expression>
</Case><Case
 Name="JruModeSystemFailure"
 Guid="61d8724b-9bd9-4959-b6bc-ee843883f405"
>
<PreConditions>
<PreCondition
 Guid="081e2014-8b9a-4f34-a757-f13a78294acc"
>mode == ModeEnum.SF</PreCondition></PreConditions>
<Expression>Messages.M_MODE.System_Failure</Expression>
</Case><Case
 Name="JruModeStandBy"
 Guid="b90716db-3dc3-4406-8fb5-e1210b369054"
>
<PreConditions>
<PreCondition
 Guid="ef6b18e7-3529-4204-8a2c-e71f178225db"
>mode == ModeEnum.SB</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Stand_By</Expression>
</Case><Case
 Name="JruModeFullsupervision"
 Guid="6241e35a-e8a9-49d4-9e41-4fdb26a28aed"
>
<PreConditions>
<PreCondition
 Guid="049a9260-68c5-46e4-b55b-6afaf934add3"
>Kernel.Mode == ModeEnum.FS</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Full_Supervision</Expression>
</Case><Case
 Name="JruModeSleeping"
 Guid="9777d358-d1bd-4f87-9455-9708cf47ab44"
>
<PreConditions>
<PreCondition
 Guid="62d927fc-955e-430f-b5f6-9a6de4ea0494"
>Kernel.Mode == ModeEnum.SL</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Sleeping</Expression>
</Case><Case
 Name="JruModeTrip"
 Guid="e983bf5e-6194-4ec5-80a6-b9e86b6cdc1a"
>
<PreConditions>
<PreCondition
 Guid="c848ff89-7d48-4b40-ab08-d34c72eed5f5"
>Kernel.Mode == ModeEnum.TR</PreCondition></PreConditions>
<Expression>Messages.M_MODE.Trip</Expression>
</Case></Cases>
</Function><Function
 Type="Messages.JRU.NID_LRBG"
 Default=""
 X="430"
 Y="80"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ToJRUNidLRBG"
 Guid="260983c5-fcd5-4ec2-9308-09b73eeb11ea"
>
<ReqRef
 Id="7e9288d3-9c65-4f84-9d67-7dfd155350aa"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="f48a1f25-491c-4288-b08c-caa8b20ca019"
>
</ReqRef><Comment>Provides the JRU NID_LRBG</Comment>
<Parameters>
<Parameter
 Type="Messages.NID_LRBG"
 Name="lrbg"
 Guid="230d4965-fe54-4785-b53f-129b01468439"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="ThereIsLRBG"
 Guid="34aa06d3-aa1c-4cf2-8a6d-689a19110aa1"
>
<PreConditions>
<PreCondition
 Guid="6cf0210b-a794-49e0-905b-e94fe002710b"
>lrbg != Messages.NID_LRBG.Unknown</PreCondition></PreConditions>
<Expression>lrbg</Expression>
</Case><Case
 Name="ThereIsNoLRBG"
 Guid="0a70af36-2f12-4e0f-b1b7-31f42de3ca06"
>
<Expression>0</Expression>
</Case></Cases>
</Function><Function
 Type="Messages.JRU.Q_DLRBG"
 Default=""
 X="210"
 Y="140"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ToJRUQdirLRBG"
 Guid="7da1c050-14cb-444d-befc-ae96133765b4"
>
<ReqRef
 Id="82fe98f5-1bb9-4b41-8fb5-faa0e4045200"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="b774ee94-8532-4bc1-9ad3-ee9dfd4055b9"
>
</ReqRef><Comment>Provides the JRU Q_DLRBG</Comment>
<Parameters>
<Parameter
 Type="OrientationEnum"
 Name="orientation"
 Guid="77d39e54-835c-4775-940a-93ad78befee7"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Nominal"
 Guid="819a11f4-6257-40a2-8460-200bcffeb791"
>
<PreConditions>
<PreCondition
 Guid="58de66e6-65ae-42b9-8675-a636216bcbfd"
>orientation == OrientationEnum.Nominal</PreCondition></PreConditions>
<Expression>Messages.JRU.Q_DLRBG.Nominal</Expression>
</Case><Case
 Name="Reverse"
 Guid="f4825c10-9fc4-47e7-97bf-c8e836b31865"
>
<PreConditions>
<PreCondition
 Guid="18bb5e87-7fd3-4d44-81d4-b690935a059b"
>orientation == OrientationEnum.Reverse</PreCondition></PreConditions>
<Expression>Messages.JRU.Q_DLRBG.Reverse</Expression>
</Case><Case
 Name="Unknown"
 Guid="7bd80179-2cfd-41cc-98e6-4020c4ca0dd6"
>
<PreConditions>
<PreCondition
 Guid="02f617b9-f4e7-4398-9920-bcce126220e0"
>orientation == OrientationEnum.Unknown OR orientation == OrientationEnum.Both</PreCondition></PreConditions>
<Expression>Messages.JRU.Q_DIRLRBG.Uknown</Expression>
</Case></Cases>
</Function><Function
 Type="Messages.JRU.Q_SCALE"
 Default=""
 X="430"
 Y="140"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ToJRUQScale"
 Guid="4a2642ff-6439-488e-8281-93da9098b001"
>
<ReqRef
 Id="2a62a9cd-6e7b-4a40-b527-182fafda63b4"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="0f9b016b-676d-4e80-812f-e9498e48205a"
>
</ReqRef><Comment>Provides the JRU Q_SCALE</Comment>
<Parameters>
<Parameter
 Type="Messages.Q_SCALE"
 Name="scale"
 Guid="266ca3c3-4d02-4aee-8efc-6a895de33607"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="_1_m_scaleC"
 Guid="6ec27e1d-3a25-4f25-b97a-c37fbc50bdf8"
>
<PreConditions>
<PreCondition
 Guid="c6faae95-234a-4203-9ef2-0e666c652fbd"
>scale == Messages.Q_SCALE._1_m_scaleC</PreCondition></PreConditions>
<Expression>Messages.JRU.Q_SCALE._1_m_scaleC</Expression>
</Case><Case
 Name="_10_cm_scaleC"
 Guid="695bf54f-256a-421e-9a09-563f34ebe098"
>
<PreConditions>
<PreCondition
 Guid="ebf41e48-d6aa-4f36-809b-173b7d3aedbb"
>scale == Messages.Q_SCALE._10_cm_scaleC</PreCondition></PreConditions>
<Expression>Messages.JRU.Q_SCALE._10_cm_scaleC</Expression>
</Case><Case
 Name="_10_m_scaleC"
 Guid="68f42522-af11-4487-97f0-4bbf783fd4bc"
>
<PreConditions>
<PreCondition
 Guid="83c84ab4-d84d-456c-90ab-ac78c2a5da9b"
>scale == Messages.Q_SCALE._10_m_scaleC</PreCondition></PreConditions>
<Expression>Messages.JRU.Q_SCALE._10_m_scaleC</Expression>
</Case></Cases>
</Function><Function
 Type="Messages.JRU.SYSTEM_VERSION"
 Default=""
 X="210"
 Y="200"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ToJRUSystemVersion"
 Guid="074aa369-7b30-42c2-aceb-0d3bb250ba9f"
>
<ReqRef
 Id="8aa4a2d0-f0af-4e25-b00f-ae42f0a9c0ba"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="dd15bd2f-8023-4fb6-86c9-e407c9670ae5"
>
</ReqRef><Comment>Provides the JRU SYSTEM_VERSION</Comment>
<Parameters>
<Parameter
 Type="Messages.M_VERSION"
 Name="version"
 Guid="f11a2a65-6bf3-46e6-a8bc-5bb294faca9a"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Version_1_1__introduced_in_SRS_3_0_0"
 Guid="51f5ad19-6386-4218-9e74-edefb6c53578"
>
<PreConditions>
<PreCondition
 Guid="4192a0e3-64ef-4734-8c83-38be693f4c6b"
>version == Messages.M_VERSION.Version_1_1__introduced_in_SRS_3_0_0</PreCondition></PreConditions>
<Expression>Messages.JRU.SYSTEM_VERSION.Class_1__version_1_1__introduced_in_SRS_3_0_0</Expression>
</Case><Case
 Name="Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0"
 Guid="c80b62a0-a019-4299-8ac1-293ee7964476"
>
<PreConditions>
<PreCondition
 Guid="f6a293ef-1394-4490-a5f7-b624ffdae8ef"
>version == Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0</PreCondition></PreConditions>
<Expression>Messages.JRU.SYSTEM_VERSION.Class_1__version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0</Expression>
</Case><Case
 Name="Version_2_0__introduced_in_SRS_3_0_0"
 Guid="79ab7b6a-df16-4d6f-91a5-270f4ea86bda"
>
<PreConditions>
<PreCondition
 Guid="0e5c7dbb-a8fc-4c3f-ad28-e552c1c638c8"
>version == Messages.M_VERSION.Version_2_0__introduced_in_SRS_3_0_0</PreCondition></PreConditions>
<Expression>Messages.JRU.SYSTEM_VERSION.Class_1__version_2_0__introduced_in_SRS_3_0_0</Expression>
</Case></Cases>
</Function><Function
 Type="MessageTypes.Speed"
 Default=""
 X="320"
 Y="200"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ToJRUVtrain"
 Guid="91c92590-51f5-4a7e-8dd6-685d094dd617"
>
<ReqRef
 Id="2a15b46d-5611-4053-974b-182b0436ce24"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="d56b95e2-33cc-4e16-9b44-080967b23bab"
>
</ReqRef><ReqRef
 Id="fbdccb80-301b-4431-a470-97e66ae1ef6c"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="c9c04a88-a371-4032-86b9-d8a2d24d7668"
>
</ReqRef><Comment>Provides the JRU V_TRAIN</Comment>
<Cases>
<Case
 Name="NotStandStill"
 Guid="afbe7ba9-de86-4f7c-bdc1-c8a44a18154a"
>
<PreConditions>
<PreCondition
 Guid="e82be393-fc78-4c8d-894b-118829d6b2b8"
>Odometry.TrainSpeed() != 0.0</PreCondition></PreConditions>
<Expression>MessageTypes.UnResolveSpeed( Odometry.TrainSpeed(), 5.0)</Expression>
</Case><Case
 Name="StandStill"
 Guid="33ecabf8-f71b-43ed-87b4-c2f157db86e0"
>
<Expression>1023</Expression>
</Case></Cases>
</Function><Function
 Type="Messages.JRU.Q_DLRBG"
 Default=""
 X="320"
 Y="140"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="ToJRUQDLRBG"
 Guid="e291bb16-1c87-45dd-b8d9-8b87ca72b6d1"
>
<ReqRef
 Id="7248c9fd-02cc-47d7-8a7c-fba6f5dac6b2"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="f6040e3e-96fc-4a28-95da-938bcdfbbd36"
>
</ReqRef><Comment>Provides the JRU Orientation</Comment>
<Parameters>
<Parameter
 Type="OrientationEnum"
 Name="orientation"
 Guid="72f7d850-6d42-4132-91e5-d710a5273f8f"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Nominal"
 Guid="44ad60cd-43b8-4b83-8fc1-13a5124da18b"
>
<PreConditions>
<PreCondition
 Guid="3eaa047c-8536-4550-94e3-d6a95eaa6508"
>orientation == OrientationEnum.Nominal</PreCondition></PreConditions>
<Expression>Messages.JRU.Q_DLRBG.Nominal</Expression>
</Case><Case
 Name="Reverse"
 Guid="43d3bc8a-e318-4ce7-a4cb-819ca10a4e62"
>
<PreConditions>
<PreCondition
 Guid="47b03716-f397-4412-b715-2683c8b864fb"
>orientation == OrientationEnum.Reverse</PreCondition></PreConditions>
<Expression>Messages.JRU.Q_DLRBG.Reverse</Expression>
</Case><Case
 Name="Unknown"
 Guid="056cd23a-3c7b-4fe7-ac68-320e448e273e"
>
<PreConditions>
<PreCondition
 Guid="3633e29b-b365-45c6-aa93-86cbc2c2a391"
>orientation == OrientationEnum.Unknown OR orientation == OrientationEnum.Both</PreCondition></PreConditions>
<Expression>Messages.JRU.Q_DIRLRBG.Uknown</Expression>
</Case></Cases>
</Function></Functions>
</NameSpace>
